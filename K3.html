<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì›Œí¼ì¦ˆ ì—¬í–‰</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #209087;
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 0;
    padding: 10px;
  }
  h1 {
    font-size: 3em;
    margin: 20px 0 10px;
    color: #EF0;
  }
  p.rule {
    margin: 0 0 10px;
    font-size: 1em;
    color: #EF0;
    text-align: center;
    line-height: 1.4;
  }
  .container {
    display: flex;
    align-items: flex-start;
    gap: 20px;
    margin-bottom: 10px;
    width: 100%;
    max-width: 800px;
    justify-content: center;
  }
  .score-container {
    display: none;
    flex-direction: column;
    gap: 10px;
    width: 95%;
    max-width: 400px;
  }
  .score-container #npcScore-mobile, 
  .score-container #userScore-mobile {
    background-color: #0E756D;
    color: #fff;
    width: 100%;
    padding: 10px;
    box-sizing: border-box;
    border-radius: 12px;
  }
  .score-container #npcScore-mobile h2,
  .score-container #userScore-mobile h2 {
    font-size: 0.9em;
    margin: 0 0 5px;
  }
  .score-container #npcScore-mobile p,
  .score-container #userScore-mobile p {
    font-size: 0.9em;
    display: inline-block;
    margin: 2px 5px;
  }
  #npcScore, #userScore {
    background-color: #0E756D;
    color: #fff;
    width: 180px;
    min-height: 300px;
    padding: 10px;
    box-sizing: border-box;
    border-radius: 12px;
    flex-shrink: 0;
  }
  #npcScore h2, #userScore h2 {
    font-size: 1.2em;
    margin-top: 0;
    margin-bottom: 10px;
  }
  #npcScore p, #userScore p {
    font-size: 1.1em;
    margin: 5px 0;
  }
  #game {
    display: grid;
    grid-template-columns: repeat(10, 1fr);
    grid-gap: 5px;
    padding: 10px;
    background-color: #0E756D;
    border-radius: 12px;
    width: 400px;
    height: 400px;
    box-sizing: border-box;
    flex-shrink: 0;
  }
  .cell {
    width: 100%;
    height: 100%;
    aspect-ratio: 1 / 1;
    background-color: #CFF9FF;
    color: #0A6A79;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.3em;
    font-weight: bold;
    cursor: pointer;
    user-select: none;
    border-radius: 4px;
  }
  .revealed {
    background-color: #fff;
  }
  .revealed.clover {
    background-color: #d0f5d0;
    font-size: 1.5em;
  }
  .revealed.clover span {
    font-family: "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
  }
  .word-owned-user {
    background-color: #fff9c4;
  }
  .word-owned-npc {
    background-color: #ffe0e0;
  }
  .btn-container {
    display: flex;
    gap: 10px;
    margin: 15px;
  }
  button {
    font-size: 1.1em;
    padding: 10px 20px;
    cursor: pointer;
    background-color: #CFF9FF;
    color: #0A6A79;
    border-radius: 12px;
    border: none;
  }
  button:hover {
    background-color: #1baf8f;
    color: #fff;
  }
  @media (max-width: 768px) {
    h1 {
      font-size: 2.5em;
      margin: 15px 0 5px;
    }
    p.rule {
      font-size: 0.9em;
      margin: 0 10px 15px;
    }
    .container {
      flex-direction: column;
      align-items: center;
      width: 100%;
    }
    #game {
      width: 95%;
      max-width: 400px;
      height: auto;
      aspect-ratio: 1 / 1;
    }
    .btn-container {
      margin: 10px;
      width: 95%;
      max-width: 400px;
      justify-content: center;
    }
    button {
      font-size: 1em;
      padding: 12px 25px;
      flex: 1;
      max-width: 150px;
    }
    .score-container {
      display: flex !important;
    }
    #npcScore, #userScore {
      display: none !important;
    }
  }
</style>
</head>
<body>

<h1>ì›Œí¼ì¦ˆ ì—¬í–‰</h1>
<p class="rule">
ê°€ë¡œâ†’, ì„¸ë¡œâ†“, ëŒ€ê°ì„ â†˜ìœ¼ë¡œ ìˆëŠ” ë‚˜ë¼, ë„ì‹œ, ìì—°ê²½ê´€, ìœ ì ì§€ ì´ë¦„ì„ ì°¾ìœ¼ì„¸ìš”.<br>
ğŸ€ ë„¤ìí´ë¡œë²„ë¥¼ ì°¾ìœ¼ë©´ ì£¼ë³€ì´ ì—´ë¦¬ê³ , í•œ ë²ˆ ë” ê¸°íšŒë¥¼ ì–»ìŠµë‹ˆë‹¤.<br>
ì»´í“¨í„°ì™€ ëŒ€ê²°í•˜ì—¬ ë” ë§ì€ ë‹¨ì–´ë¥¼ ì°¾ìœ¼ë©´ ì´ê¹ë‹ˆë‹¤ !
</p>

<div class="container">
  <div id="npcScore">
    <h2>ì»´í“¨í„°:</h2>
  </div>
  <div id="game"></div>
  <div id="userScore">
    <h2>ì‚¬ìš©ì:</h2>
  </div>
</div>

<div class="score-container">
  <div id="npcScore-mobile">
    <h2>ì»´í“¨í„°:</h2>
  </div>
  <div id="userScore-mobile">
    <h2>ì‚¬ìš©ì:</h2>
  </div>
</div>

<div class="btn-container">
  <button id="retryBtn">ë‹¤ì‹œ í•˜ê¸°</button>
  <button onclick="alert('ë‹¤ë¥¸ ê²Œì„ ë©”ë‰´ëŠ” ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!')">ë‹¤ë¥¸ ê²Œì„</button>
</div>

<script>
const wordList = [
  
];


const two_letter_words = ["ê°€ë‚˜","ê°€ë´‰","ê²½ì£¼","ê³ ë² ","ê¸°ë‹ˆ","ë‚˜ì†Œ","ë‚¨ê·¹","ë‚¨ë¯¸","ë„¤íŒ”","ë‰´ìš•","ë‹ˆìŠ¤","ë‹¤ì¹´","ë¸ë¦¬","ë„ì¿„","ë„í•˜","ë…ì¼","ë™í•´","ë”œë¦¬","ë¼êµ°","ëŸ°ë˜","ë¡œë§ˆ","ë¡œë©”","ë¦¬ê°€","ë¦¬ë§ˆ","ë¦¬ì¦ˆ","ë§ë ˆ","ë§ë¦¬","ëª°íƒ€","ëª½ê³¨","ë¯¸êµ­","ë°”ì¿ ","ë°˜ì¤„","ë°©ì½•","ë°±í•´","ë² ëƒ‰","ë² ë¥¸","ë¶€íƒ„","ë¶ê·¹","ë¶í•´","ì‚¬í•´","ì„œìš¸","ìˆ˜ë°”","ìˆ˜ì›","ì‹ ì „","ì•”ë§Œ","ì•¼ë Œ","ì˜êµ­","ì˜¤ë§Œ","ìœ ëŸ½","ì´ìƒ","ì¸ë„","ì¼ë³¸","ì œì£¼","ì¢…ë¬˜","ì¤‘êµ­","ì²´ì½”","ì¶©ì¹­","ì¹ ë ˆ","ì¹´ë¶ˆ","ì¼€ëƒ","ì½©ê³ ","ì¿ ë°”","í‚¤í† ","íƒˆë¦°","íƒœêµ­","í„°í‚¤","í†ˆì‚°","í† ê³ ","í†µê°€","íŒ€í‘¸","íŒŒë¦¬","í˜ë£¨","í‘¸ë„¤","í”¼ì§€","í˜¸ì£¼","í™í•´","í™”ì„±","í™©ì‚°","í™©í•´",
  ];

const three_letter_words = ["ê°ë¹„ì•„","ê²½ë³µê¶","ê·¸ë¦¬ìŠ¤","ê¸ˆê°•ì‚°","ê¸°í…Œê°€","ë‚˜ìš°ë£¨","ë‚˜ì¼ê°•","ë„¤í”¼ë„","ë‰´ë¸ë¦¬","ë‹ˆì•„ë©”","ë‹ˆì œë¥´","ë‹¤ë„í•´","ë‹¤ì¹´ë¥´","ëŒ€ì„œì–‘","ë”ë¸”ë¦°","ë°ë‚ ë¦¬","ë´ë§ˆí¬","ë„ë„ë§ˆ","ë‘ë°”ì´","ë‘ìƒ¨ë² ","ë¼ê³ ìŠ¤","ë¼ë°”íŠ¸","ë¼ì˜¤ìŠ¤","ë¼íŒŒìŠ¤","ëŸ¬ì‹œì•„","ë ˆë°”ë…¼","ë ˆì†Œí† ","ë¡œë°¤ë°”","ë£¨ì‚¬ì¹´","ë£¨ì•ˆë‹¤","ë¥´ì™„ë‹¤","ë¦¬ë¹„ì•„","ë¦¬ìŠ¤ë³¸","ë¦¬ì•¼ë“œ","ë¦´ë¡±ê¶¤","ë§ˆë‚˜ê³¼","ë§ˆë‚˜ë§ˆ","ë§ˆë‹ë¼","ë§ˆì„¸ë£¨","ë§ˆì£¼ë¡œ","ë§ˆí‘¸í† ","ë§ë¼ë³´","ë§ë¼ìœ„","ë©”ì½©ê°•","ë©•ì‹œì½”","ëª¨ë‚˜ì½”","ëª¨ë¡œë‹ˆ","ëª¨ë¡œì½”","ëª°ë„ë°”","ëª°ë””ë¸Œ","ëª½ë¸”ë‘","ë­„ë°”ì´","ë¯¸ì–€ë§ˆ","ë¯¼ìŠ¤í¬","ë°€ë¼ë…¸","ë°€í¬ë“œ","ë°”ë ˆì¸","ë°”ë§ˆì½”","ë°”ë¶€ë‹¤","ë°”ì‹¤ë¦¬","ë°”í‹°ì¹¸","ë°”í•˜ë§ˆ","ë°œë ˆíƒ€","ë°±ë‘ì‚°","ë² ë¥¼ë¦°","ë² ì´ì§•","ë² íŠ¸ë‚¨","ë²¨ê¸°ì—","ë²¨ë¦¬ì¦ˆ","ë²¨ëª¨íŒ","ë³´ê³ íƒ€","ë³¼ê°€ê°•","ë¶€ë£¬ë””","ë¶ê·¹í•´","ë¶ˆêµ­ì‚¬","ë¸Œë¼ì§ˆ","ë¸Œë¤¼ì…€","ë¹„ì‚¬ìš°","ë¹Œë‰´ìŠ¤","ì‚¬ëª¨ì•„","ì‚¬í•˜ë¼","ì‚°í˜¸ì„¸","ìƒíˆ¬ë©”","ìƒí•˜ì´","ì„êµ´ì•”","ì„¸ë„¤ê°ˆ","ì„¸ì´ì…¸","ì†Œí”¼ì•„","ìˆ˜ë¦¬ë‚¨","ìˆ˜í¬ë ˆ","ìŠ¤ì›¨ë´","ìŠ¤ìœ„ìŠ¤","ìŠ¤ì½”í˜","ìŠ¤í˜ì¸","ì•„ë°”ë‚˜","ì•„ë¶€ì","ì•„ë¹„ì¥","ì•„ì‹œì•„","ì•„ì´í‹°","ì•„í¬ë¼","ì•„í…Œë„¤","ì•„í”¼ì•„","ì•ˆë°ìŠ¤","ì•ˆë„ë¼","ì•Œì œë¦¬","ì•Œí”„ìŠ¤","ì•™ê³¨ë¼","ì•™ì¹´ë¼","ì•¤í‹°ê°€","ì•¼ìš´ë°","ì—í íƒ‘","ì˜¤ì‚¬ì¹´","ì˜¤ìŠ¬ë¡œ","ì˜¤íƒ€ì™€","ìš”ë¥´ë‹¨","ìš°ê°„ë‹¤","ìš¸ë£¨ë£¨","ì›Œì‹±í„´","ì›°ë§í„´","ì´ë¹„ì","ì´ì§‘íŠ¸","ì¸ë„ì–‘","ì ë¹„ì•„","ì œì£¼ë„","ì¡°ì§€ì•„","ì§€ë¶€í‹°","ì§€ì¤‘í•´","ì°½ë•ê¶","ì¹´ë¼ì¹˜","ì¹´ë¦¬ë¸Œ","ì¹´ë©”ë£¬","ì¹´ì´ë¡œ","ì¹´íƒ€ë¥´","ìº„íŒ”ë¼","ìºë‚˜ë‹¤","ìºë‹ˆì–¸","ìº”ë²„ë¼","ì½”ëª¨ë¡œ","ì½”í† ëˆ„","ì½œë¡¬ë³´","ì½œì¹´íƒ€","í‚¤ê°ˆë¦¬","í‚¤ì´ìš°","í‚¨ìƒ¤ì‚¬","í‚¹ìŠ¤í„´","íƒ€ë¼ì™€","íƒœí‰ì–‘","í…Œí—¤ë€","íˆ¬ë°œë£¨","íŠ€ë‹ˆìŠ¤","íŠ€ë‹ˆì§€","í‹°ë¼ë‚˜","íŒ”ë¼ìš°","í˜íŠ¸ë¼","í”„ë†ˆíœ","í”„ë¼í•˜","í”„ë‘ìŠ¤","í•€ë€ë“œ","í•„ë¦¬í•€","í•˜ë…¸ì´","í•˜ë¼ë ˆ","í•˜ë¥´íˆ¼","í•œë¼ì‚°","í—ê°€ë¦¬","í—¤ì´ê·¸","í—¬ì‹±í‚¤","í˜¸ë„í˜‘","í›„ì§€ì‚°"];

const four_letter_words = ["ê°€ë³´ë¡œë„¤","ê°€ì´ì•„ë‚˜","ê° ì§€ìŠ¤ê°•","ê³ ë¹„ì‚¬ë§‰","ê³¼í…Œë§ë¼","ê·¸ë ˆë‚˜ë‹¤","ê·¸ë ˆë‚˜ë”˜","ê·¸ë ˆì´íŠ¸","ê·¸ë¦°ë€ë“œ","ë‚˜ë¯¸ë¹„ì•„","ë‚˜ì´ë¡œë¹„","ë‚¨ì¤‘êµ­í•´","ë‚¨í•œì‚°ì„±","ë„¤ëœë€ë“œ","ë…¸ë¥´ë§ë””","ë…¸ë¥´ì›¨ì´","ëˆ„ë¥´ìˆ íƒ„","ëˆ„ì•…ì‡¼íŠ¸","ë‰´ì§ˆëœë“œ","ë‹ˆì¹´ë¼ê³¼","ë‹ˆì½”ì‹œì•„","ë‹¤ë‰´ë¸Œê°•","ëŒ€í•œë¯¼êµ­","ë°ë‚ ë¦¬ì‚°","ë™í‹°ëª¨ë¥´","ë¼íŠ¸ë¹„ì•„","ë¡í‚¤ì‚°ë§¥","ë£¨ë§ˆë‹ˆì•„","ë¥˜ë¸”ë´ë‚˜","ë¦¬ë¸Œë¥´ë¹Œ","ë§ˆë“œë¦¬ë“œ","ë§ˆì…œì œë„","ë§ˆì´ì• ë¯¸","ë§ˆì¶”í”½ì¶”","ë§ˆí„°í˜¸ë¥¸","ë§Œë¦¬ì¥ì„±","ëª¨ê°€ë””ìŠˆ","ëª¨ë¦¬ì…”ìŠ¤","ëª¨ë¦¬íƒ€ë‹ˆ","ëª¨ìŠ¤í¬ë°”","ëª¨ì ë¹„í¬","ëª¬ë¡œë¹„ì•„","ëª½ì´Œí† ì„±","ë¬´ìŠ¤ì¹´íŠ¸","ë°”ê·¸ë‹¤ë“œ","ë°”ëˆ„ì•„íˆ¬","ë°”ë¥´ìƒ¤ë°”","ë°”ìŠ¤í…Œë¥´","ë² ì´ë£¨íŠ¸","ë²¨ë¼ë£¨ìŠ¤","ë³´ë¼ì¹´ì´","ë³´ìŠ¤ë‹ˆì•„","ë³´ì¸ ì™€ë‚˜","ë³¼ë¦¬ë¹„ì•„","ë¶ˆê°€ë¦¬ì•„","ë¸Œë¼ìë¹Œ","ë¸Œë£¨ë‚˜ì´","ë¹„ìŠˆì¼€í¬","ë¹„ì—”í‹°ì•ˆ","ë¹…í† ë¦¬ì•„","ë¹ˆíŠ¸í›„í¬","ì‚¬ë¼ì˜ˆë³´","ì‚°ë§ˆë¦¬ë…¸","ì‚°í‹°ì•„ê³ ","ìƒíŒŒìš¸ë£¨","ì„¸ë¥´ë¹„ì•„","ì†Œê¸ˆí˜¸ìˆ˜","ì†Œë§ë¦¬ì•„","ìˆ˜ì›í™”ì„±","ìŠ¤ë¦¬ë‘ì¹´","ìŠ¤í†¡í™€ë¦„","ìŠ¤í†¤í—¨ì§€","ìŠ¤í•‘í¬ìŠ¤","ì‹±ê°€í¬ë¥´","ì•„ë¼ë¹„ì•„","ì•„ë§ˆì¡´ê°•","ì•„ë©”ë¦¬ì¹´","ì•„ë¶€ë‹¤ë¹„","ì•„ìˆœì‹œì˜¨","ì•„ìŠ¤ë§ˆë¼","ì•„ìŠ¤íƒ€ë‚˜","ì•„ì¼ëœë“œ","ì•„ì½©ì¹´ê³¼","ì•„íƒ€ì¹´ë§ˆ","ì•„í‹€ë¼ìŠ¤","ì•„í”„ë¦¬ì¹´","ì•ŒëŒë¸Œë¼","ì•Œë˜ìŠ¤ì¹´","ì•Œë°”ë‹ˆì•„","ì—ì½°ë„ë¥´","ì˜ˆë£¨ì‚´ë ˜","ì˜¤í•˜ì´ì˜¤","ì˜¨ë‘ë¼ìŠ¤","ì™€ê°€ë‘êµ¬","ìš°ë£¨ê³¼ì´","ì€ìë©”ë‚˜","ìŒë°”ë°”ë„¤","ì´ìŠ¤ë¼ì—˜","ì´ìŠ¤íƒ„ë¶ˆ","ì´ìŠ¤í„°ì„¬","ì´íƒˆë¦¬ì•„","ìê·¸ë ˆë¸Œ","ìë©”ì´ì¹´","ìì¹´ë¥´íƒ€","ì ë„ê¸°ë‹ˆ","ì¡°ì§€íƒ€ìš´","ì§ë°”ë¸Œì›¨","ì¹´ë¼ì¹´ìŠ¤","ì¹´ë¦¬ë¸Œí•´","ì¹´íŠ¸ë§Œë‘","ì¹¼ë¼í•˜ë¦¬","ìº„ë³´ë””ì•„","ì½”ë‚˜í¬ë¦¬","ì½”íœí•˜ê²","ì½œë¡œì„¸ì›€","ì½œë¡¬ë¹„ì•„","ì¿ ì›¨ì´íŠ¸","í‚¤ë¦¬ë°”ì‹œ","í‚¤í”„ë¡œìŠ¤","í‚¹ìŠ¤íƒ€ìš´","íƒ€ìŠˆì¼„íŠ¸","íƒ€ì§€ë§ˆí• ","íƒ„ìë‹ˆì•„","íŠ€ë¥´í‚¤ì˜ˆ","íŠ¸ë¦¬í´ë¦¬","íŠ¸ë¹Œë¦¬ì‹œ","íŒŒë¼ê³¼ì´","íŒŒë¥´í…Œë…¼","íŒŒí‚¤ìŠ¤íƒ„","íŒ”ë¦¬í‚¤ë¥´","í¬ë¥´íˆ¬ê°ˆ","í¬íŠ¸ë¹Œë¼","í‘¸ë‚˜í‘¸í‹°","í’ë‚©í† ì„±","í”„ë¼ì´ì•„","í”„ë¦¬íƒ€ìš´","í”„ë¦°ì‹œí˜","í”¼ë¼ë¯¸ë“œ","í•˜ë¡±ë² ì´","í˜¸ë‹ˆì•„ë¼","íˆë§ë¼ì•¼","ë…¸ë¥´ì¹´í”„","ì•„ë©”ë¦¬ì¹´",
];

const five_or_more_letter_words = [
"ê°€ì•¼ê³ ë¶„êµ°","ê¸°ë‹ˆë¹„ì‚¬ìš°","ë‚˜ì´ì•„ê°€ë¼","ë‚˜ì´ì§€ë¦¬ì•„","ë‚¨ì•„ë©”ë¦¬ì¹´","ëˆ„ì¿ ì•Œë¡œíŒŒ","ë ˆì´ìº¬ë¹„í¬","ë£©ì…ˆë¶€ë¥´í¬","ë¦¬íˆ¬ì•„ë‹ˆì•„","ë§ë¼ìœ„í˜¸ìˆ˜","ë§ë ˆì´ì‹œì•„","ë©•ì‹œì½”ì‹œí‹°","ëª¨ì•„ì´ì„ìƒ","ëª¬í…Œë„¤ê·¸ë¡œ","ëª¬í…Œë¹„ë°ì˜¤","ë¯¸ì‹œì‹œí”¼ê°•","ë°”ë¥´ì…€ë¡œë‚˜","ë°”ë² ì´ë„ìŠ¤","ë°”ì´ì¹¼í˜¸ìˆ˜","ë°”í‹°ì¹¸ì‹œêµ­","ë°©ê¸€ë¼ë°ì‹œ","ë² ë„¤ìˆ˜ì—˜ë¼","ë² ë¥´ë™í˜‘ê³¡","ë² ì˜¤ê·¸ë¼ë“œ","ë¶€ë‹¤í˜ìŠ¤íŠ¸","ë¶€ì¿ ë ˆìŠˆí‹°","ë¶ì•„ë©”ë¦¬ì¹´","ë¸Œë¼ì§ˆë¦¬ì•„","ë¸Œë¦¬ì§“íƒ€ìš´","ë¸”ë£¸í°í…Œì¸","ì‚¬í•˜ë¼ì‚¬ë§‰","ì‚°ì‚´ë°”ë„ë¥´","ì‚°í† ë„ë°ê³ ","ì„¸ì¸íŠ¸ì¡´ìŠ¤","ì†”ë¡œëª¬ì œë„","ìŠ¤ì½”í‹€ëœë“œ","ìŠ¬ë¡œë°”í‚¤ì•„","ìŠ¬ë¡œë² ë‹ˆì•„","ì•„ë¥´ë©”ë‹ˆì•„","ì•„ë¥´í—¨í‹°ë‚˜","ì•„ìŠˆí•˜ë°”íŠ¸","ì•„ì•¼ì†Œí”¼ì•„","ì•„ì´ìŠ¬ë€ë“œ","ì•„ì½©ì¹´ê³¼ì‚°","ì•ˆë°ìŠ¤ì‚°ë§¥","ì•Œí”„ìŠ¤ì‚°ë§¥","ì•”ìŠ¤í…Œë¥´ë‹´","ì•™ì½”ë¥´ì™€íŠ¸","ì•¼ë¬´ìˆ˜í¬ë¡œ","ì—ë² ë ˆìŠ¤íŠ¸","ì—ìŠ¤ì™€í‹°ë‹ˆ","ì—ìŠ¤í† ë‹ˆì•„","ì—˜ì‚´ë°”ë„ë¥´","ì˜¤ì„¸ì•„ë‹ˆì•„","ì˜¤ìŠ¤íŠ¸ë¦¬ì•„","ìš¸ë€ë°”í† ë¥´","ì´ê³¼ìˆ˜í­í¬","ì¸ë„ë„¤ì‹œì•„","ì¹˜ì²¸ì´íŠ¸ì‚¬","ì¹´ë¥´íŒŒí‹°ì•„","ì¹´ë³´ë² ë¥´ë°","ì¹´ìŠ¤íŠ¸ë¦¬ìŠ¤","ì¹´ìíìŠ¤íƒ„","ì¼€ì´í”„íƒ€ìš´","ì½”ìŠ¤íƒ€ë¦¬ì¹´","ì½œì¹´ìºë‹ˆì–¸","í¬ë¡œì•„í‹°ì•„","í‚¬ë¦¬ë§Œìë¡œ","íƒ€ë¡œì½”í˜‘ê³¡","íƒ€ì§€í‚¤ìŠ¤íƒ„","í…Œêµ¬ì‹œê°ˆíŒŒ","í‹°ì—”ì‚°ì‚°ë§¥","íŒŒë‚˜ë§ˆì‹œí‹°","íŒŒë¼ë§ˆë¦¬ë³´","íŒŒíƒ€ê³ ë‹ˆì•„","í¬ë“œê³ ë¦¬ì°¨","í¬ë¥´í† ë…¸ë³´","í¬íŠ¸ë£¨ì´ìŠ¤","í”„ë¦¬í† ë¦¬ì•„",
"ê³¼í…Œë§ë¼ì‹œí‹°","ê·¸ëœë“œìºë‹ˆì–¸","ê¸°ìš”ë¯¸ì¦ˆë°ë¼","ë„ë¯¸ë‹ˆì¹´ì—°ë°©","ë¡œë„ìŠ¤ì˜ê±°ìƒ","ë¡œìŠ¤ì•¤ì ¤ë ˆìŠ¤","ë£¨ë¸Œë¥´ë°•ë¬¼ê´€","ë¦¬íˆí…ìŠˆíƒ€ì¸","ë§ˆë‹¤ê°€ìŠ¤ì¹´ë¥´","ë¯¸í¬ë¡œë„¤ì‹œì•„","ë°€í¬ë“œì‚¬ìš´ë“œ","ë¶€ë¥´ì¦ˆì¹¼ë¦¬íŒŒ","ë¶€ë¥´í‚¤ë‚˜íŒŒì†Œ","ë¸Œë¼í‹°ìŠ¬ë¼ë°”","ë¹…í† ë¦¬ì•„í˜¸ìˆ˜","ì‚¬ë§ˆë¦¬ì•„í˜‘ê³¡","ì‚°ê°•í˜‘ê³¡ì‚¬ë§‰","ì„¸ì¸íŠ¸ë£¨ì‹œì•„","ì„¸ì¸íŠ¸ë¹ˆì„¼íŠ¸","ì„¸ì¸íŠ¸ì¡°ì§€ìŠ¤","ìŠˆí”¼ë¦¬ì–´í˜¸ìˆ˜","ì•„ë””ìŠ¤ì•„ë°”ë°”","ì•„ë¼ë¹„ì•„ì‚¬ë§‰","ì•„ëì—ë¯¸ë¦¬íŠ¸","ì•„ì œë¥´ë°”ì´ì”","ì•„í¬ë¡œí´ë¦¬ìŠ¤","ì•„íƒ€ì¹´ë§ˆì‚¬ë§‰","ì•„í‹€ë¼ìŠ¤ì‚°ë§¥","ì•ˆë„ë¼ë¼ë² ì•¼","ì•ˆíƒ€ë‚˜ë‚˜ë¦¬ë³´","ì•¤í‹°ê°€ë°”ë¶€ë‹¤","ì—ë² ë ˆìŠ¤íŠ¸ì‚°","ìš°ì¦ˆë² í‚¤ìŠ¤íƒ„","ì´ìŠ¬ë¼ë§ˆë°”ë“œ","ììœ ì˜ì—¬ì‹ ìƒ","ìì´ì–¸ìºë‹ˆì–¸","ì¹¼ë¼í•˜ë¦¬ì‚¬ë§‰","ì½”íŠ¸ë””ë¶€ì•„ë¥´","ì¿ ì•Œë¼ë£¸í‘¸ë¥´","ì¿ ì›¨ì´íŠ¸ì‹œí‹°","í‚¤ë¥´ê¸°ìŠ¤ìŠ¤íƒ„","í‚¬ë¦¬ë§Œìë¡œì‚°","íƒ•ê°€ë‹ˆì¹´í˜¸ìˆ˜","í…Œì´ë¸”ë§ˆìš´í‹´","í‹°í‹°ì¹´ì¹´í˜¸ìˆ˜","íŒŒë¥´í…Œë…¼ì‹ ì „","í¬ë¥´í† í”„ë­ìŠ¤","í¬íŠ¸ëª¨ë¥´ì¦ˆë¹„","íŒŒë¥´í…Œë…¼ì‹ ì „","íˆë§ë¼ì•¼ì‚°ë§¥","ë§ˆë¥´í‚¤ì¦ˆì œë„",
"ê°ˆë¼íŒŒê³ ìŠ¤ì œë„","ê¸°ìì˜í”¼ë¼ë¯¸ë“œ","ë‚˜ì´ì•„ê°€ë¼í­í¬","ë„ë¯¸ë‹ˆì¹´ê³µí™”êµ­","ë¡œë Œì¸ êµ­ë¦½ê³µì›","ë§ˆìš°ì†”ë¡œìŠ¤ì˜ë¬˜","ë¸Œë¼ì´ìŠ¤ìºë‹ˆì–¸","ì•„ë¥´í…Œë¯¸ìŠ¤ì‹ ì „","ì•¤í„¸ë¡œí”„ìºë‹ˆì–¸","ì˜¤ìŠ¤íŠ¸ë ˆì¼ë¦¬ì•„","ì¹´ë¥´íŒŒí‹°ì•„ì‚°ë§¥","ì¹´ì¹´ë‘êµ­ë¦½ê³µì›","í”¼ì‹œë¦¬ë²„ìºë‹ˆì–¸","í•´ì¸ì‚¬ì¥ê²½íŒì „",
"ì‚¬ê·¸ë¼ë‹¤íŒŒë°€ë¦¬ì•„","ê²½ì£¼ì—­ì‚¬ìœ ì ì§€êµ¬","ë‚¨ì•„í”„ë¦¬ì¹´ê³µí™”êµ­","ë°˜ë‹¤ë¥´ìŠ¤ë¦¬ë¸Œê°€ì™„","ë°±ì œì—­ì‚¬ìœ ì ì§€êµ¬","ë¶€ì—ë…¸ìŠ¤ì•„ì´ë ˆìŠ¤","ì‚¬ê·¸ë¼ë‹¤íŒŒë°€ë¦¬ì•„","ì„¸ë ê²Œí‹°êµ­ë¦½ê³µì›","ì„¸ì¸íŠ¸í‚¤ì¸ ë„¤ë¹„ìŠ¤","ì˜ë¡œìŠ¤í†¤êµ­ë¦½ê³µì›","ìš”ì„¸ë¯¸í‹°êµ­ë¦½ê³µì›","ì§€ìš°ìì´ê±°ìš°ê³„ê³¡","í˜¸í”„ì›°ì˜ì‹ìœ ì ì§€",
"ê·¸ë ˆì´íŠ¸ë°°ë¦¬ì–´ë¦¬í”„",
];


// ê° ê¸¸ì´ë³„ ë‹¨ì–´ ê°œìˆ˜ ì„¤ì •
const num_two = 1;
const num_three = 4;
const num_four = 4;
const num_five_or_more = 4;

const gridSize = 10;
const totalCells = gridSize * gridSize;
let board, revealed, wordMap, foundWords, currentPlayer, foundBy, words, usedIndexes;
let resultShown = false;
let clovers = new Set();
let npcTimeoutId = null;

const gameEl = document.getElementById('game');
const userScoreEl = document.getElementById('userScore');
const npcScoreEl = document.getElementById('npcScore');
const userScoreMobileEl = document.getElementById('userScore-mobile');
const npcScoreMobileEl = document.getElementById('npcScore-mobile');
const retryBtn = document.getElementById('retryBtn');

function shuffle(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
}

function getRandomSample(array, count) {
  const shuffled = [...array];
  shuffle(shuffled);
  return shuffled.slice(0, Math.min(count, array.length));
}

function getRandomWords() {
  let selectedWords = []
    .concat(getRandomSample(two_letter_words, num_two))
    .concat(getRandomSample(three_letter_words, num_three))
    .concat(getRandomSample(four_letter_words, num_four))
    .concat(getRandomSample(five_or_more_letter_words, num_five_or_more));
  shuffle(selectedWords);
  return selectedWords;
}

function getRandomDirection() {
  const dirs = [{ x: 1, y: 0 }, { x: 0, y: 1 }, { x: 1, y: 1 }];
  return dirs[Math.floor(Math.random() * dirs.length)];
}

function canPlaceWord(word, x, y, dx, dy) {
  for (let i = 0; i < word.length; i++) {
    let nx = x + dx * i;
    let ny = y + dy * i;
    if (nx < 0 || ny < 0 || nx >= gridSize || ny >= gridSize) return false;
    let index = ny * gridSize + nx;
    if (board[index] && board[index] !== word[i]) return false;
    if (usedIndexes.has(index)) return false;
  }
  return true;
}

function placeWord(word) {
  for (let attempt = 0; attempt < 100; attempt++) {
    let dir = getRandomDirection();
    let x = Math.floor(Math.random() * gridSize);
    let y = Math.floor(Math.random() * gridSize);
    if (canPlaceWord(word, x, y, dir.x, dir.y)) {
      let positions = [];
      for (let i = 0; i < word.length; i++) {
        let nx = x + dir.x * i;
        let ny = y + dir.y * i;
        let idx = ny * gridSize + nx;
        board[idx] = word[i];
        usedIndexes.add(idx);
        positions.push(idx);
      }
      wordMap[word] = positions;
      return true;
    }
  }
  return false;
}

function placeClovers(count) {
  clovers.clear();
  while (clovers.size < count) {
    const idx = Math.floor(Math.random() * totalCells);
    if (!usedIndexes.has(idx)) clovers.add(idx);
  }
}

function fillEmptyCells() {
  const filler = 'ê°€ê°ê°„ê°’ê°™ê°›ê°œê±°ê±´ê±¸ê²€ê²ƒê²Œê³ê³ ê³¨ê³µê´´êµêµ¬êµ­ê¶ê·¸ê·¼ê¸€ê¸ˆê¸°ê¸´ê¸¸ê¹Œê¹œê¹¨êº¾ê»´ê¼¼ê½ê¾¸ë”ë‚˜ë‚œë‚ ë‚®ë‚¯ë‚´ë„˜ë„£ë„¤ë…„ë†€ë†ˆëˆ„ëˆˆë‰´ëŠ”ë‹ˆë‹˜ë‹¤ë‹¥ë‹¬ë‹´ëŒ€ëŒ„ë”ë˜ë©ë°ë„ë™ë‘ë“œë“ë“ ë“£ë“¤ë“±ë””ë”œë”±ë•Œë•¡ë˜‘ëš«ë›°ë¼ë½ë€ëŒëë‘ë˜ëœëŸ¬ë ˆë ¤ë ¥ë ¸ë¡œë¡­ë¥´ë¥¸ë¥¼ë¦¬ë¦°ë¦¼ë§ˆë§‰ë§Œë§ë§˜ë§›ë§ë§¤ë§¨ë¨¸ë¨¹ë¨¼ë©€ë©‹ë©”ë©˜ë©°ë©´ëª¨ëª©ëª°ë¬´ë¬¸ë¬»ë¬¼ë­˜ë¯¸ë¯¼ë°€ë°”ë°•ë°˜ë°›ë°œë°¤ë°¥ë°©ë±…ë²„ë²…ë²ˆë²•ë²¼ë³„ë³´ë³µë³¼ë´ë´¤ë¶€ë¶ë¶„ë¶ˆë¶™ë¸Œë¸”ë¹„ë¹ˆë¹Œë¹”ë¹›ë¹ ë¹¡ë¹¨ë¹¼ë»¥ë¿”ì‚¬ì‚´ìƒìƒˆìƒ‰ìƒì„œì„ ì„¬ì„­ì„°ì„¸ì…‹ì†Œì†ì†œìˆ˜ìˆ™ìˆœìˆ²ì‰¬ìŠ´ì‹œì‹ ì‹¤ì‹¶ìŒì“°ì”Œì”»ì•„ì•…ì•ˆì•Œì•˜ì•ì• ì•¼ì–‘ì–´ì–¼ì—„ì—…ì—†ì—ˆì—‰ì—ì—¬ì—´ì˜ì˜›ì˜¤ì˜¨ì˜¬ì˜´ì˜·ì˜¹ì™€ì™”ì™œìš°ìš´ìš¸ì›ìœ„ìœ ìœ¤ìœ¼ì€ì„ìŒì˜ì´ìµì¸ì¼ìƒì„ì…ìˆìŠìì‘ì–ì˜ì¥ì¬ì €ì ì „ì •ì œì ¸ì¡¸ì¢€ì¢‹ì£¼ì¤„ì¤‘ì¤¬ì§€ì§„ì§‘ì§œì§ì°ì°¨ì°©ì°¸ì°½ì±„ì±…ì²™ì²œì²­ì²´ì³¤ì´ˆì´Œì¶œì·„ì·¨ì¹˜ì¹œì¹´ì¼œì½”ì½œí¬í°í…Œí† íŠ¸íŠ¼íŒŒíŒí­í¼í•€í•„í•˜í•™í•œí• í•´í–„í–ˆí–‰í˜„í˜•í˜¸í˜¼í™”í™˜íˆí˜'.split('');
  shuffle(filler);
  let iFiller = 0;
  for (let i = 0; i < totalCells; i++) {
    if (!board[i] && !clovers.has(i)) {
      board[i] = filler[iFiller++ % filler.length];
    }
  }
}

function updateScore() {
  const userContent = "<h2>ì‚¬ìš©ì:</h2>" + foundBy.user.map(w => `<p>${w}</p>`).join("");
  const npcContent = "<h2>ì»´í“¨í„°:</h2>" + foundBy.npc.map(w => `<p>${w}</p>`).join("");
  userScoreEl.innerHTML = userContent;
  npcScoreEl.innerHTML = npcContent;
  if (userScoreMobileEl && npcScoreMobileEl) {
    userScoreMobileEl.innerHTML = userContent;
    npcScoreMobileEl.innerHTML = npcContent;
  }
}

function checkWords() {
  for (let word of words) {
    if (foundWords.has(word)) continue;
    const positions = wordMap[word];
    if (positions.every(i => revealed[i])) {
      foundWords.add(word);
      const owner = currentPlayer === 'user' ? 'user' : 'npc';
      foundBy[owner].push(word);
      positions.forEach(i => gameEl.children[i].classList.add(owner === 'user' ? 'word-owned-user' : 'word-owned-npc'));
      updateScore();
    }
  }
  if (foundWords.size === words.length && !resultShown) {
    resultShown = true;
    clearTimeout(npcTimeoutId);
    const userCount = foundBy.user.length;
    const npcCount = foundBy.npc.length;
    let userMessage = '';
    let npcMessage = '';
    if (userCount > npcCount) {
      userMessage = "<span style='font-family:\"Apple Color Emoji\", \"Segoe UI Emoji\", sans-serif;'>ğŸ†</span> [ìŠ¹ë¦¬!!]";
      npcMessage = "<span style='font-family:\"Apple Color Emoji\", \"Segoe UI Emoji\", sans-serif;'>ğŸ¥ˆ</span> [íŒ¨ë°°~]";
    } else {
      userMessage = "<span style='font-family:\"Apple Color Emoji\", \"Segoe UI Emoji\", sans-serif;'>ğŸ¥ˆ</span> [íŒ¨ë°°~]";
      npcMessage = "<span style='font-family:\"Apple Color Emoji\", \"Segoe UI Emoji\", sans-serif;'>ğŸ†</span> [ìŠ¹ë¦¬!!]";
    }
    if (userMessage && npcMessage) {
      userScoreEl.innerHTML += `<p style='font-size:1.3em; margin-top:10px; color:#FFD700; font-weight:bold;'>${userMessage}</p>`;
      npcScoreEl.innerHTML += `<p style='font-size:1.3em; margin-top:10px; color:#FFD700; font-weight:bold;'>${npcMessage}</p>`;
      if (userScoreMobileEl && npcScoreMobileEl) {
        userScoreMobileEl.innerHTML += `<p style='font-size:1.1em; margin-top:10px; color:#FFD700; font-weight:bold;'>${userMessage}</p>`;
        npcScoreMobileEl.innerHTML += `<p style='font-size:1.1em; margin-top:10px; color:#FFD700; font-weight:bold;'>${npcMessage}</p>`;
      }
    }
  }
}

function reveal(index) {
  if (revealed[index]) return;
  revealed[index] = true;
  const cell = gameEl.children[index];
  cell.classList.add('revealed');
  cell.textContent = board[index];
}

function switchTurn() {
  if (resultShown) return;
  currentPlayer = currentPlayer === 'user' ? 'npc' : 'user';
  if (currentPlayer === 'npc') {
    npcTimeoutId = setTimeout(npcTurn, 800);
  }
}

function npcTurn() {
  if (resultShown || currentPlayer !== 'npc') return;
  const options = revealed.reduce((acc, r, i) => (!r ? [...acc, i] : acc), []);
  if (options.length === 0) return;
  const choice = options[Math.floor(Math.random() * options.length)];
  handleClick(choice);
}

function handleClick(index) {
  if (revealed[index] || resultShown) return;
  let wasClover = false;
  if (clovers.has(index)) {
    wasClover = true;
    const cell = gameEl.children[index];
    cell.classList.add('revealed', 'clover');
    cell.innerHTML = '<span>ğŸ€</span>';
    revealed[index] = true;
    const dx = [0, 0, -1, 1, 0];
    const dy = [-1, 1, 0, 0, 0];
    for (let d = 0; d < dx.length; d++) {
      const nx = index % gridSize + dx[d];
      const ny = Math.floor(index / gridSize) + dy[d];
      if (nx >= 0 && nx < gridSize && ny >= 0 && ny < gridSize) {
        const nIdx = ny * gridSize + nx;
        reveal(nIdx);
      }
    }
  } else {
    reveal(index);
  }
  checkWords();
  if (!wasClover && !resultShown) {
    switchTurn();
  } else if (wasClover && currentPlayer === 'npc' && !resultShown) {
    npcTimeoutId = setTimeout(npcTurn, 800);
  }
}

function init() {
  clearTimeout(npcTimeoutId);
  board = Array(totalCells).fill(null);
  revealed = Array(totalCells).fill(false);
  wordMap = {};
  foundWords = new Set();
  foundBy = { user: [], npc: [] };
  currentPlayer = 'user';
  usedIndexes = new Set();
  words = getRandomWords();
  resultShown = false;
  clovers.clear();

  let placedWords = 0;
  let attempts = 0;
  while (placedWords < words.length && attempts < 50) {
    if (placeWord(words[placedWords])) placedWords++;
    attempts++;
  }
  words = words.slice(0, placedWords);

  placeClovers(5);
  fillEmptyCells();
  updateScore();

  gameEl.innerHTML = '';
  for (let i = 0; i < totalCells; i++) {
    const cell = document.createElement('div');
    cell.className = 'cell';
    cell.addEventListener('click', () => {
      if (currentPlayer === 'user' && !resultShown) handleClick(i);
    });
    gameEl.appendChild(cell);
  }
  
  console.log('ê²Œì„ì— ë°°ì¹˜ëœ ë‹¨ì–´ë“¤:', words);
}

retryBtn.addEventListener('click', init);
window.addEventListener('resize', updateLayout);

function updateLayout() {
  const isMobile = window.innerWidth <= 768;
  if (isMobile) {
    npcScoreEl.style.display = 'none';
    userScoreEl.style.display = 'none';
    document.querySelector('.score-container').style.display = 'flex';
  } else {
    npcScoreEl.style.display = 'block';
    userScoreEl.style.display = 'block';
    document.querySelector('.score-container').style.display = 'none';
  }
}

updateLayout();
init();
</script>
</body>
</html>
