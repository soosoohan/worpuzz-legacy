<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì›Œí¼ì¦ˆ ê³ ì‚¬ì„±ì–´/ ì‚¬ìì„±ì–´</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #209087;
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 0;
    padding: 10px;
  }
  h1 {
    font-size: 3em;
    margin: 20px 0 10px;
    color: #EF0;
  }
  p.rule {
    margin: 0 0 10px;
    font-size: 1em;
    color: #EF0;
    text-align: center;
    line-height: 1.4;
  }
  .container {
    display: flex;
    align-items: flex-start;
    gap: 20px;
    margin-bottom: 10px;
    width: 100%;
    max-width: 800px;
    justify-content: center;
  }
  .score-container {
    display: none;
    flex-direction: column;
    gap: 10px;
    width: 95%;
    max-width: 400px;
  }
  .score-container #npcScore-mobile, 
  .score-container #userScore-mobile {
    background-color: #0E756D;
    color: #fff;
    width: 100%;
    padding: 10px;
    box-sizing: border-box;
    border-radius: 12px;
  }
  .score-container #npcScore-mobile h2,
  .score-container #userScore-mobile h2 {
    font-size: 0.9em;
    margin: 0 0 5px;
  }
  .score-container #npcScore-mobile p,
  .score-container #userScore-mobile p {
    font-size: 0.9em;
    display: inline-block;
    margin: 2px 5px;
  }
  #npcScore, #userScore {
    background-color: #0E756D;
    color: #fff;
    width: 180px;
    min-height: 300px;
    padding: 10px;
    box-sizing: border-box;
    border-radius: 12px;
    flex-shrink: 0;
  }
  #npcScore h2, #userScore h2 {
    font-size: 1.2em;
    margin-top: 0;
    margin-bottom: 10px;
  }
  #npcScore p, #userScore p {
    font-size: 1.1em;
    margin: 5px 0;
  }
  #game {
    display: grid;
    grid-template-columns: repeat(10, 1fr);
    grid-gap: 5px;
    padding: 10px;
    background-color: #0E756D;
    border-radius: 12px;
    width: 400px;
    height: 400px;
    box-sizing: border-box;
    flex-shrink: 0;
  }
  .cell {
    width: 100%;
    height: 100%;
    aspect-ratio: 1 / 1;
    background-color: #CFF9FF;
    color: #0A6A79;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.3em;
    font-weight: bold;
    cursor: pointer;
    user-select: none;
    border-radius: 4px;
  }

.revealed {
    background-color: #fff;
  }
  

  .revealed.clover {
    background-color: #d0f5d0;
    font-size: 1.5em;
  }
  .revealed.clover span {
    font-family: "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
  }


.revealed.daisy {
  background-color: #fff4e0; /* ë°ì€ ë°ì´ì§€ ëŠë‚Œì˜ ë°°ê²½ */
  font-size: 1.5em;
}
.revealed.daisy span {
  font-family: "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
}


  .word-owned-user {
    background-color: #fff9c4;
  }
  .word-owned-npc {
    background-color: #ffe0e0;
  }
  .btn-container {
    display: flex;
    gap: 10px;
    margin: 15px;
  }
  button {
    font-size: 1.1em;
    padding: 10px 20px;
    cursor: pointer;
    background-color: #CFF9FF;
    color: #0A6A79;
    border-radius: 12px;
    border: none;
  }
  button:hover {
    background-color: #1baf8f;
    color: #fff;
  }
  @media (max-width: 768px) {
    h1 {
      font-size: 2.5em;
      margin: 15px 0 5px;
    }
    p.rule {
      font-size: 0.9em;
      margin: 0 10px 15px;
    }
    .container {
      flex-direction: column;
      align-items: center;
      width: 100%;
    }
    #game {
      width: 95%;
      max-width: 400px;
      height: auto;
      aspect-ratio: 1 / 1;
    }
    .btn-container {
      margin: 10px;
      width: 95%;
      max-width: 400px;
      justify-content: center;
    }
    button {
      font-size: 1em;
      padding: 12px 25px;
      flex: 1;
      max-width: 150px;
    }
    .score-container {
      display: flex !important;
    }
    #npcScore, #userScore {
      display: none !important;
    }
  }
</style>
</head>
<body>

<h1>ì›Œí¼ì¦ˆ ê³ ì‚¬ì„±ì–´/ ì‚¬ìì„±ì–´</h1>
<p class="rule">
ê°€ë¡œâ†’, ì„¸ë¡œâ†“, ëŒ€ê°ì„ â†˜ìœ¼ë¡œ ê³ ì‚¬ì„±ì–´ì™€ ì‚¬ìì„±ì–´ë¥¼ ì°¾ìœ¼ì„¸ìš”.<br>
ğŸ€ ë„¤ìí´ë¡œë²„ë¥¼ ì°¾ìœ¼ë©´ ì£¼ë³€ ìƒí•˜ì¢Œìš° ì¹¸ì´ í•¨ê»˜ ì—´ë¦¬ê³ , í•œ ë²ˆ ë” í„´ì„ ê°€ì§‘ë‹ˆë‹¤.<br>
ğŸŒ¼ ë°ì´ì§€ê½ƒì„ ì°¾ìœ¼ë©´ ëŒ€ê°ì„ ì„ í¬í•¨í•œ ì£¼ë³€ 8ì¹¸ì´ ì—´ë¦¬ë©°, ì—­ì‹œ í•œ ë²ˆ ë” í„´ì„ ê°€ì§‘ë‹ˆë‹¤.<br>


ì»´í“¨í„°ì™€ ëŒ€ê²°í•˜ì—¬ ë” ë§ì€ ë‹¨ì–´ë¥¼ ì°¾ìœ¼ë©´ ì´ê¹ë‹ˆë‹¤ !
</p>

<div class="container">
  <div id="npcScore">
    <h2>ì»´í“¨í„°:</h2>
  </div>
  <div id="game"></div>
  <div id="userScore">
    <h2>ì‚¬ìš©ì:</h2>
  </div>
</div>

<div class="score-container">
  <div id="npcScore-mobile">
    <h2>ì»´í“¨í„°:</h2>
  </div>
  <div id="userScore-mobile">
    <h2>ì‚¬ìš©ì:</h2>
  </div>
</div>

<div class="btn-container">
  <button id="retryBtn">ë‹¤ì‹œ í•˜ê¸°</button>
  <button onclick="location.href='index.html'">ì´ˆê¸°í™”ë©´</button>
</div>
<script>

const two_letter_words = [
];


const three_letter_words = [
"ê³„ë¥µ","ê¸°ìš°","ë°±ë¯¸","ë¶ˆí˜¹","ì—­ë¦°","ì§€ìŒ","íš¨ì‹œ",
"ê¸ˆìíƒ‘","ë…¸ìµì¥","ë“±ìš©ë¬¸","ë“±í•œì‹œ","ë¯¸ë´‰ì±…","ë°°ìˆ˜ì§„","ë¶ˆê°€í”¼","ë¶ˆìƒì‚¬","ë¶ˆì•¼ì„±","ì•„ë˜ì—","ìœ ë¶„ìˆ˜","ì¼ê°€ê²¬","ì¼ë©´ì‹","ì§„ë©´ëª©","ì§„ì¼ë³´","í•˜ê·¹ìƒ","í•˜ë§ˆí‰",];

const four_letter_words = ["ê°ê³¨ë‚œë§","ê°ì–‘ê°ìƒ‰","ê°ìë„ìƒ","ê°ì£¼êµ¬ê²€","ê°„ë‚œì‹ ê³ ","ê°„ë‹´ìƒì¡°","ê°ê°œë¬´ëŸ‰","ê°ì–¸ì´ì„¤","ê°‘ë¡ ì„ë°•","ê°œê³¼ì²œì„ ","ê±°ë‘ì ˆë¯¸","ê±´ê³¤ì¼ì²™","ê²©ì„¸ì§€ê°","ê²¬ê°•ë¶€íšŒ","ê²¬ì›ì§€ê°„","ê²°ì‚¬í•­ì „","ê²°ìí•´ì§€","ê²°ì´ˆë³´ì€","ê²½ê±°ë§ë™","ê²½êµ­ì§€ìƒ‰","ê²½ì´ì›ì§€","ê²½ì²œë™ì§€","ê³„ë€ìœ ê³¨","ê³ êµ°ë¶„íˆ¬","ê³ ìƒ‰ì°½ì—°","ê³ ìœ¡ì§€ì±…","ê³ ì§„ê°ë˜","ê³µë¦¬ê³µë¡ ","ê³¼ìœ ë¶ˆê¸‰","ê´€í¬ì§€êµ","ê´„ëª©ìƒëŒ€","ê´‘í’ì œì›”","êµì–¸ì˜ìƒ‰","êµ¬ì‚¬ì¼ìƒ","êµ¬ì œë¶ˆëŠ¥","êµ¬ì¤‘ê¶ê¶","êµ¬íƒœì˜ì—°","êµ°ê³„ì¼í•™","ê¶ì—¬ì§€ì±…","ê¶Œëª¨ìˆ ìˆ˜","ê¶Œì„ ì§•ì•…","ê¶Œí† ì¤‘ë˜","ê·¼ê²€ì ˆì•½","ê·¼ë¬µìí‘","ê¸ˆê³¼ì˜¥ì¡°","ê¸ˆìƒì²¨í™”","ê¸ˆì‹œì´ˆë¬¸","ê¸ˆì˜ì•¼í–‰","ê¸ˆì˜í™˜í–¥","ê¸ˆì§€ì˜¥ì—½","ê¸°ê³ ë§Œì¥","ê¸°ìƒì²œì™¸","ê¸°ì„¸ë“±ë“±","ê¸°ìŠ¹ì „ê²°","ê¸°ì•”ê´´ì„","ê¸°ì ˆì´ˆí’","ê¸°ì •ì‚¬ì‹¤","ê¸°ì§„ë§¥ì§„","ê¸¸í‰í™”ë³µ","ë‚™ë½ì¥ì†¡","ë‚™ì‹¬ì²œë§Œ","ë‚œê³µë¶ˆë½","ë‚œì¤‘ìœ ê³¨","ë‚œí˜•ë‚œì œ","ë‚¨ê°€ì¼ëª½","ë‚¨ë…€ë…¸ì†Œ","ë‚¨ë¶€ì—¬ëŒ€","ë‚¨ì¡´ì—¬ë¹„","ë‚­ì¤‘ì§€ì¶”","ë‚´ìš°ì™¸í™˜","ë…¸ê¸°ì¶©ì „","ë…¸ë°œëŒ€ë°œ","ë…¸ì‹¬ì´ˆì‚¬","ë…¼ê³µí–‰ìƒ","ë…¼ë¦¬ì •ì—°","ëˆ„ë€ì§€ìœ„","ëŠ¥ì†ŒëŠ¥ëŒ€","ë‹¤ë‹¤ìµì„ ","ë‹¤ì‚¬ë‹¤ë‚œ","ë‹¤ì¬ë‹¤ëŠ¥","ë‹¨ë„ì§ì…","ë‹¹ì—°ì§€ì‚¬","ëŒ€ê²½ì‹¤ìƒ‰","ëŒ€ê¸°ë§Œì„±","ëŒ€ë‹´ë¬´ìŒ","ëŒ€ëŒ€ì†ì†","ëŒ€ë™ì†Œì´","ëŒ€ëª…ì²œì§€","ëŒ€ì„œíŠ¹í•„","ëŒ€ì„±í†µê³¡","ë„ì›ê²°ì˜","ë…ìˆ˜ê³µë°©","ë…ì•¼ì²­ì²­","ë™ê³ ë™ë½","ë™ë¬¸ì„œë‹µ","ë™ë¬¸ìˆ˜í•™","ë™ë³‘ìƒë ¨","ë™ë¶„ì„œì£¼","ë™ìƒì´ëª½","ë™ì„œê³ ê¸ˆ","ë™ì„œë‚¨ë¶","ë™ì‹œë‹¤ë°œ","ë™ì¡±ìƒì”","ë‘ë¬¸ë¶ˆì¶œ","ë“ì˜ë§Œë©´","ë“ì˜ì–‘ì–‘","ë§ˆì´ë™í’","ë§‰ë¬´ê°€ë‚´","ë§‰ìƒë§‰í•˜","ë§‰ì—­ì§€ìš°","ë§‰ì „ë§‰í›„","ë§Œê³ ë¶ˆë³€","ë§Œë³‘í†µì¹˜","ë§Œì‚¬ì—¬ì˜","ë§Œì‚¬í˜•í†µ","ë§Œìˆ˜ë¬´ê°•","ë§Œì‹ ì°½ì´","ë§Œì¥ì¼ì¹˜","ë§Œì „ì§€ì±…","ë§ë§ëŒ€í•´","ë§ì—°ìì‹¤","ë§ì¤‘ìœ í•œ","ë§¤ì ë§¤ì„","ë©¸ì‚¬ë´‰ê³µ","ëª…ê²¬ë§Œë¦¬","ëª…ê²½ì§€ìˆ˜","ëª…ëª…ë°±ë°±","ëª…ë¶ˆí—ˆì „","ëª…ì‹¤ìƒë¶€","ëª…ì•½ê´€í™”","ëª…ì–¸ëª…êµ¬","ëª©ë¶ˆì¸ê²¬","ë¬´ê¶ë¬´ì§„","ë¬´ë…ë¬´ìƒ","ë¬´ë¦‰ë„ì›","ë¬´ë²•ì²œì§€","ë¬´ë³‘ì¥ìˆ˜","ë¬´ì‚¬ì•ˆì¼","ë¬´ìƒ‰ë¬´ì·¨","ë¬´ì†Œë¶€ì¬","ë¬´ì†Œë¶ˆìœ„","ë¬´ìš©ì§€ë¬¼","ë¬´ìœ„ë„ì‹","ë¬´ì¸ì§€ê²½","ë¬´ì§€ëª½ë§¤","ë¬´í•™ë¬´ì‹","ë¬µë¬µë¶€ë‹µ","ë¬¸ì „ë°•ëŒ€","ë¬¸ì „ì„±ì‹œ","ë¬¼ê·¹í•„ë°˜","ë¬¼ì‹¬ì–‘ë©´","ë¬¼ì•„ì¼ì²´","ë¯¸ê´€ë§ì§","ë¯¸ì‚¬ì—¬êµ¬","ë¯¸ìƒì§€ì‹ ","ë¯¸ì¸ë°•ëª…","ë¯¸í’ì–‘ì†","ë°€ìš´ë¶ˆìš°","ë°•ëŒê°•ê¸°","ë°•ìˆ˜ê°ˆì±„","ë°•ì¥ëŒ€ì†Œ","ë°•í•™ë‹¤ì‹","ë°˜ë©´êµì‚¬","ë°˜ì‹ ë°˜ì˜","ë°˜ì‹ ë¶ˆìˆ˜","ë°˜í¬ì§€íš¨","ë°œë³¸ìƒ‰ì›","ë°©ë°©ê³¡ê³¡","ë°©ì•½ë¬´ì¸","ë°°ì€ë§ë•","ë°±ê°€ìŸëª…","ë°±ê³¨ë‚œë§","ë°±ë…„ê°€ì•½","ë°±ë…„ì§€ê³„","ë°±ë…„í•˜ì²­","ë°±ë…„í•´ë¡œ","ë°±ë©´ì„œìƒ","ë°±ë°œë°±ì¤‘","ë°±ì˜ì¢…êµ°","ë°±ì „ë…¸ì¥","ë°±ì „ë°±ìŠ¹","ë°±ì²™ê°„ë‘","ë°±í•´ë¬´ìµ","ë³€í™”ë¬´ìŒ","ë³´í¸íƒ€ë‹¹","ë³µì¡ë‹¤ë‹¨","ë¶€êµ­ê°•ë³‘","ë¶€ê·€ì˜í™”","ë¶€ì „ìì „","ë¶€ì§€ê¸°ìˆ˜","ë¶€ì§€ë¶ˆì‹","ë¶€ì°½ë¶€ìˆ˜","ë¶€í™”ë‡Œë™","ë¶„ê³¨ì‡„ì‹ ","ë¶„ê¸°ì¶©ì²œ","ë¶ˆê°€ì‚¬ì˜","ë¶ˆê°€í•­ë ¥","ë¶ˆê´‘ë¶ˆê¸‰","ë¶ˆë¡œì¥ìƒ","ë¶ˆë¬¸ê°€ì§€","ë¶ˆë¬¸ê³¡ì§","ë¶ˆì‹ì£¼ì•¼","ë¶ˆìš”ë¶ˆê¸‰","ë¶ˆì² ì£¼ì•¼","ë¶ˆí¸ë¶€ë‹¹","ë¶ˆí‰ë¶ˆë§Œ","ë¶•ìš°ìœ ì‹ ","ë¹„ëª½ì‚¬ëª½","ë¹„ë¶„ê°•ê°œ","ë¹„ì¼ë¹„ì¬","ë¹™ì‚°ì¼ê°","ì‚¬ê°ì§€ëŒ€","ì‚¬ê³ ë¬´ì¹œ","ì‚¬ë¦¬ë¶„ë³„","ì‚¬ë¦¬ì‚¬ìš•","ì‚¬ë©´ì´ˆê°€","ì‚¬ì‚¬ê±´ê±´","ì‚¬ì‚¬ì˜¤ì…","ì‚¬ìƒëˆ„ê°","ì‚¬ìƒê²°ë‹¨","ì‚¬ìƒì§€êµ","ì‚¬ì„œì˜¤ê²½","ì‚¬ì‹¤ë¬´ê·¼","ì‚¬ìì„±ì–´","ì‚¬í†µíŒ”ë‹¬","ì‚¬í•„ê·€ì •","ì‚°ì „ìˆ˜ì „","ì‚´ì‹ ì„±ì¸","ì‚¼ê³ ì´ˆë ¤","ì‚¼ë¼ë§Œìƒ","ì‚¼ì‚¬ì¼ì–¸","ì‚¼ì‚¼ì˜¤ì˜¤","ì‚¼ìˆ˜ê°‘ì‚°","ì‚¼ì‹­ìœ¡ê³„","ì‚¼ì¼ì²œí•˜","ì‚¼ì²™ë™ì","ìƒëª…í•˜ë³µ","ìƒë¶€ìƒì¡°","ìƒì„ ì•½ìˆ˜","ìƒì „ë²½í•´","ìƒˆì˜¹ì§€ë§ˆ","ìƒ‰ì¦‰ì‹œê³µ","ìƒë¡œë³‘ì‚¬","ìƒì‚¬ê³ ë½","ìƒì‚¬ê¸°ë¡œ","ì„ ê²¬ì§€ëª…","ì„ ê³µí›„ì‚¬","ì„ ë‚¨ì„ ë…€","ì„¤ìƒê°€ìƒ","ì„¤ì™•ì„¤ë˜","ì„±ë™ê²©ì„œ","ì„±ì‹¬ì„±ì˜","ì„±ì¸êµ°ì","ì„¸ìƒë§Œì‚¬","ì„¸í•œê³ ì ˆ","ì†ŒíƒëŒ€ì‹¤","ì†ìˆ˜ë¬´ì±…","ì†ì „ì†ê²°","ì†”ì„ ìˆ˜ë²”","ì†”ì§ë‹´ë°±","ì†¡êµ¬ì˜ì‹ ","ìˆ˜êµ¬ì´ˆì‹¬","ìˆ˜ë³µê°•ë…•","ìˆ˜ìˆ˜ë°©ê´€","ìˆ˜ì–´ì§€êµ","ìˆ˜ì£¼ëŒ€í† ","ìˆœë§ì¹˜í•œ","ìŠ¹ìŠ¹ì¥êµ¬","ì‹œê¸°ìƒì¡°","ì‹œì‹œê°ê°","ì‹œì‹œë¹„ë¹„","ì‹œì •ì¡ë°°","ì‹œì¢…ì—¬ì¼","ì‹œì¢…ì¼ê´€","ì‹œí–‰ì°©ì˜¤","ì‹ ì„¸í•œíƒ„","ì‹ ì¶œê·€ëª°","ì‹¤ì‚¬êµ¬ì‹œ","ì‹¬ê¸°ì¼ì „","ì‹¬ì‚¬ìˆ™ê³ ","ì‹­ë…„ê°ìˆ˜","ì‹­ì‹œì¼ë°˜","ì‹­ì¤‘íŒ”êµ¬","ì•„ìˆ˜ë¼ì¥","ì•„ì—°ì‹¤ìƒ‰","ì•„ì „ì¸ìˆ˜","ì•…ì „ê³ íˆ¬","ì•…í™”ì¼ë¡œ","ì•ˆë¶„ì§€ì¡±","ì•ˆí•˜ë¬´ì¸","ì•”ì¤‘ëª¨ìƒ‰","ì• ë§¤ëª¨í˜¸","ì• ì§€ì¤‘ì§€","ì•¼ë°˜ë„ì£¼","ì•½ìœ¡ê°•ì‹","ì–‘ìƒêµ°ì","ì–‘ìíƒì¼","ì–´ë¶€ì§€ë¦¬","ì–´ë¶ˆì„±ì„¤","ì–¸ê°ìƒì‹¬","ì–¸ì¤‘ìœ ê³¨","ì–¸í–‰ì¼ì¹˜","ì—„ë™ì„¤í•œ","ì—­ì§€ì‚¬ì§€","ì—°ë§ì—°ì‹œ","ì—°ì¤‘ë¬´íœ´","ì—´ì‹¬ì§€ì·¨","ì˜êµ¬ë¶ˆë³€","ì˜ˆì¸¡ë¶ˆí—ˆ","ì˜¤ê³¡ë°±ê³¼","ì˜¤ë¦¬ë¬´ì¤‘","ì˜¤ë§Œë¶ˆì†","ì˜¤ë§¤ë¶ˆë§","ì˜¤ë¶ˆê´€ì–¸","ì˜¤ì›”ë™ì£¼","ì˜¤ì¥ìœ¡ë¶€","ì˜¤í•©ì§€ì¡¸","ì˜¥ì„êµ¬ë¶„","ì˜¨ê³ ì§€ì‹ ","ì™€ì‹ ìƒë‹´","ì™„ì „ë¬´ê²°","ì™ˆê°€ì™ˆë¶€","ì™¸ìœ ë‚´ê°•","ìš”ì‚°ìš”ìˆ˜","ìš”ì ˆë³µí†µ","ìš”ì§€ë¶€ë™","ìš©ê°ë¬´ìŒ","ìš©ë‘ì‚¬ë¯¸","ìš©ë§¹ë¬´ìŒ","ìš©í˜¸ìƒë°•","ìš°ê³µì´ì‚°","ìš°ì—¬ê³¡ì ˆ","ìš°ì™•ì¢Œì™•","ìš°ìœ ë¶€ë‹¨","ìš°í›„ì£½ìˆœ","ìš´ì¹ ê¸°ì‚¼","ì›êµê·¼ê³µ","ì›ê¸°ì™•ì„±","ì›ë¦¬ì›ì¹™","ì›ì²œë´‰ì‡„","ìœ„ê¸°ì¼ë°œ","ìœ„í’ë‹¹ë‹¹","ìœ„í—˜ì²œë§Œ","ìœ êµ¬ë¬´ì–¸","ìœ ëª…ë¬´ì‹¤","ìœ ë¹„ë¬´í™˜","ìœ ì•„ë…ì¡´","ìœ ìœ ìƒì¢…","ìœ ìœ ìì ","ìœ ì¼ë¬´ì´","ìœ ì¢…ì§€ë¯¸","ì€ì¸ìì¤‘","ìì°¸ë§ˆì†","ì˜ê¸°ì–‘ì–‘","ì˜ê¸°íˆ¬í•©","ì˜ë¯¸ì‹¬ì¥","ì˜ì‹ë¶ˆëª…","ì´êµ¬ë™ì„±","ì´ëª©êµ¬ë¹„","ì´ì‹¬ì „ì‹¬","ì´ì—­ë§Œë¦¬","ì´ì—´ì¹˜ì—´","ì´ì™•ì§€ì‚¬","ì´ìš©í›„ìƒ","ì´ìœ¨ë°°ë°˜","ì´í•©ì§‘ì‚°","ì´í•´ë“ì‹¤","ì´í•´íƒ€ì‚°","ì¸ê³¼ì‘ë³´","ì¸ë©´ìˆ˜ì‹¬","ì¸ì‚¬ë¶ˆì„±","ì¸ì‚°ì¸í•´","ì¸ì •ì‚¬ì •","ì¸ì§€ìƒì •","ì¼ê°ì²œê¸ˆ","ì¼ê±°ì–‘ë“","ì¼êµ¬ì´ì–¸","ì¼ê¸°ë‹¹ì²œ","ì¼ë„ì–‘ë‹¨","ì¼ë§íƒ€ì§„","ì¼ë§¥ìƒí†µ","ì¼ëª©ìš”ì—°","ì¼ë¬¸ì¼ë‹µ","ì¼ì‚¬ë¶ˆë€","ì¼ì‚¬ì²œë¦¬","ì¼ì„ì´ì¡°","ì¼ì–¸ë°˜êµ¬","ì¼ìë¬´ì‹","ì¼ì¥ì¶˜ëª½","ì¼ì´‰ì¦‰ë°œ","ì¼ì·¨ì›”ì¥","ì¼íŒŒë§ŒíŒŒ","ì¼í¸ë‹¨ì‹¬","ì¼í•„íœ˜ì§€","ì¼í™•ì²œê¸ˆ","ì¼í¬ì¼ë¹„","ì„ê¸°ì‘ë³€","ì„ì „ë¬´í‡´","ì…ì‹ ì–‘ëª…","ìê°•ë¶ˆì‹","ìê²©ì§€ì‹¬","ìê¸‰ìì¡±","ìë¦°ê³ ë¹„","ììˆ˜ì„±ê°€","ììŠ¹ìë°•","ìì‹ ë§Œë§Œ","ìì—…ìë“","ììœ ìì¬","ìì¤‘ì§€ë€","ìì´ˆì§€ì¢…","ìíƒ€ê³µì¸","ìí¬ìê¸°","ìí™”ìì°¬","ì‘ì‹¬ì‚¼ì¼","ì¥ì‚¼ì´ì‚¬","ì¬ìŠ¹ë°•ë•","ì ë°˜í•˜ì¥","ì ì‹œì ì§€","ì ì¬ì ì†Œ","ì „ê´‘ì„í™”","ì „ëŒ€ë¯¸ë¬¸","ì „ë„ìœ ë§","ì „ì‹¬ì „ë ¥","ì „ì „ê¸ê¸","ì „ì§€ì „ëŠ¥","ì „í™”ìœ„ë³µ","ì ˆì„¸ê°€ì¸","ì ˆì²´ì ˆëª…","ì ì…ê°€ê²½","ì •ë¡ ì§í•„","ì •ë¬¸ì¼ì¹¨","ì •ì €ì§€ì™€","ì •ì •ë‹¹ë‹¹","ì¡°ê°•ì§€ì²˜","ì¢Œë¶ˆì•ˆì„","ì¢Œìš°ì§€ê°„","ì¢Œì§€ìš°ì§€","ì¢Œì¶©ìš°ëŒ","ì£¼ê°ì „ë„","ì£¼ê²½ì•¼ë…","ì£¼ë„ë©´ë°€","ì£¼ë§ˆê°„ì‚°","ì£¼ì§€ìœ¡ë¦¼","ì£½ë§ˆê³ ìš°","ì¤‘ê³¼ë¶€ì ","ì¤‘êµ¬ë‚œë°©","ì¤‘ì–¸ë¶€ì–¸","ì§€ê³ ì§€ì„ ","ì§€ê·¹ì •ì„±","ì§€ê¸°ì§€ìš°","ì§€ë¡ìœ„ë§ˆ","ì§€ë¦¬ë©¸ë ¬","ì§€ìœ„ê³ í•˜","ì§€ì§€ë¶€ì§„","ì§€í–‰ì¼ì¹˜","ì§„ìˆ˜ì„±ì°¬","ì§„í‡´ì–‘ë‚œ","ì§„í‡´ìœ ê³¡","ì§ˆì„œì •ì—°","ì°¨ì¼í”¼ì¼","ì²œê³ ë§ˆë¹„","ì²œêµ°ë§Œë§ˆ","ì²œê·¼ë§Œê·¼","ì²œë§Œë‹¤í–‰","ì²œë°©ì§€ì¶•","ì²œìƒì—°ë¶„","ì²œì‹ ë§Œê³ ","ì²œì–‘ì§€ì°¨","ì²œìš°ì‹ ì¡°","ì²œì˜ë¬´ë´‰","ì²œì¸ê³µë…¸","ì²œì¬ì¼ìš°","ì²œì¬ì§€ë³€","ì²œì •ë¶€ì§€","ì²œì§€ê°œë²½","ì²œì§„ë‚œë§Œ","ì²œíƒœë§Œìƒ","ì²œí¸ì¼ë¥ ","ì²œí•˜íƒœí‰","ì² ë‘ì² ë¯¸","ì² ì²œì§€í•œ","ì²©ì²©ì‚°ì¤‘","ì²­ë ´ê²°ë°±","ì²­ë¹ˆë‚™ë„","ì²­ì‚°ìœ ìˆ˜","ì²­ì²œë²½ë ¥","ì²­ì¶œì–´ëŒ","ì´ˆë¡ë™ìƒ‰","ì´ˆì „ë°•ì‚´","ì´ˆì§€ì¼ê´€","ì´Œì² ì‚´ì¸","ì¶”í’ë‚™ì—½","ì¶˜í•˜ì¶”ë™","ì¶©ì–¸ì—­ì´","ì·¨ì‚¬ì„ íƒ","ì¸¡ì€ì§€ì‹¬","ì¹ ì „íŒ”ê¸°","ì¹¨ì†Œë´‰ëŒ€","ì¾Œë„ë‚œë§ˆ","íƒ€ì‚°ì§€ì„","íƒê´€ì˜¤ë¦¬","íƒœì—°ìì•½","íƒœí‰ì„¸ì›”","í† ì‚¬êµ¬íŒ½","íŒŒë€ë§Œì¥","íŒŒë ´ì¹˜í•œ","íŒŒìƒê³µì„¸","íŒŒì•ˆëŒ€ì†Œ","íŒŒì£½ì§€ì„¸","íŒ”ë°©ë¯¸ì¸","íŒ¨ê°€ë§ì‹ ","í‰ì§€í’íŒŒ","í¬ë³µì ˆë„","í­í’ì „ì•¼","í‘œë¦¬ë¶€ë™","í’ê¸°ë¬¸ë€","í’ë¹„ë°•ì‚°","í’ì „ë“±í™”","í”¼ì°¨ì¼ë°˜","í•™ìˆ˜ê³ ëŒ€","í•œìš°ì¶©ë™","í•¨í¥ì°¨ì‚¬","í•´ê´´ë§ì¸¡","í—ˆë¡€í—ˆì‹","í—ˆì†¡ì„¸ì›”","í—ˆì‹¬íƒ„íšŒ","í—ˆí—ˆì‹¤ì‹¤","í˜ˆê¸°ì™•ì„±","í˜ˆí˜ˆë‹¨ì‹ ","í˜•ì„¤ì§€ê³µ","í˜•í˜•ìƒ‰ìƒ‰","í˜¸ê°€í˜¸ìœ„","í˜¸ê°ì§€ì„¸","í˜¸ì‚¬ë‹¤ë§ˆ","í˜¸ì‚¬ìœ í”¼","í˜¸ì‹œíƒíƒ","í˜¸ì–¸ì¥ë‹´","í˜¸ì—°ì§€ê¸°","í˜¸ì˜í˜¸ì‹","í˜¸í˜•í˜¸ì œ","í˜¹ì„¸ë¬´ë¯¼","í˜¼ë¹„ë°±ì‚°","í˜¼ì—°ì¼ì²´","í™ìµì¸ê°„","í™”ê¸°ì• ì• ","í™”ë ¤ê°•ì‚°","í™”ë£¡ì ì •","í™•ê³ ë¶€ë™","í™˜ê³¨íƒˆíƒœ","í™˜í˜¸ì‘ì•½","í™©ë‹¹ë¬´ê³„","íšŒìì •ë¦¬","íš¡ì„¤ìˆ˜ì„¤","í›„íšŒë§‰ê¸‰","í‘ìƒ‰ì„ ì „","í¥ë§ì„±ì‡ ","í¥ë¯¸ì§„ì§„","í¥ì²­ë§ì²­","í¬ë…¸ì• ë½",
];

const five_or_more_letter_words = ["ê°€í™”ë§Œì‚¬ì„±","ì‹ ì„±ë¶ˆê°€ì¹¨","ì˜¤ì‹­ë³´ë°±ë³´","ì¼ê°ì—¬ì‚¼ì¶”","í™”ë¬´ì‹­ì¼í™",
"ê³µìˆ˜ë˜ê³µìˆ˜ê±°","ë§¹ëª¨ì‚¼ì²œì§€êµ","ë°±ë¬¸ë¶ˆì—¬ì¼ê²¬","ë¶ˆê°€ê·¼ë¶ˆê°€ì›","ì´í˜„ë ¹ë¹„í˜„ë ¹","ì¼ê±°ìˆ˜ì¼íˆ¬ì¡±","ì§„ì¸ì‚¬ëŒ€ì²œëª…","ì²œë¶€ë‹¹ë§Œë¶€ë‹¹",
"ì •ì‹ ì¼ë„í•˜ì‚¬ë¶ˆì„±",];

// ê° ê¸¸ì´ë³„ ë‹¨ì–´ ê°œìˆ˜ ì„¤ì •
const num_two = 0;
const num_three = 1;
const num_four = 11;
const num_five_or_more = 1;

const gridSize = 10;
const totalCells = gridSize * gridSize;
let board, revealed, wordMap, foundWords, currentPlayer, foundBy, words, usedIndexes;
let resultShown = false;
let clovers = new Set();
let daisies = new Set(); // ğŸŒ¼ ë°ì´ì§€ Set ì¶”ê°€
let npcTimeoutId = null;



const gameEl = document.getElementById('game');
const userScoreEl = document.getElementById('userScore');
const npcScoreEl = document.getElementById('npcScore');
const userScoreMobileEl = document.getElementById('userScore-mobile');
const npcScoreMobileEl = document.getElementById('npcScore-mobile');
const retryBtn = document.getElementById('retryBtn');

function shuffle(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
}

function getRandomSample(array, count) {
  const shuffled = [...array];
  shuffle(shuffled);
  return shuffled.slice(0, Math.min(count, array.length));
}

function getRandomWords() {
  let selectedWords = []
    .concat(getRandomSample(two_letter_words, num_two))
    .concat(getRandomSample(three_letter_words, num_three))
    .concat(getRandomSample(four_letter_words, num_four))
    .concat(getRandomSample(five_or_more_letter_words, num_five_or_more));
  shuffle(selectedWords);
  return selectedWords;
}

function getRandomDirection() {
  const dirs = [{ x: 1, y: 0 }, { x: 0, y: 1 }, { x: 1, y: 1 }];
  return dirs[Math.floor(Math.random() * dirs.length)];
}

function canPlaceWord(word, x, y, dx, dy) {
  for (let i = 0; i < word.length; i++) {
    let nx = x + dx * i;
    let ny = y + dy * i;
    if (nx < 0 || ny < 0 || nx >= gridSize || ny >= gridSize) return false;
    let index = ny * gridSize + nx;
    if (board[index] && board[index] !== word[i]) return false;
    if (usedIndexes.has(index)) return false;
  }
  return true;
}

function placeWord(word) {
  for (let attempt = 0; attempt < 100; attempt++) {
    let dir = getRandomDirection();
    let x = Math.floor(Math.random() * gridSize);
    let y = Math.floor(Math.random() * gridSize);
    if (canPlaceWord(word, x, y, dir.x, dir.y)) {
      let positions = [];
      for (let i = 0; i < word.length; i++) {
        let nx = x + dir.x * i;
        let ny = y + dir.y * i;
        let idx = ny * gridSize + nx;
        board[idx] = word[i];
        usedIndexes.add(idx);
        positions.push(idx);
      }
      wordMap[word] = positions;
      return true;
    }
  }
  return false;
}

function placeClovers(count) {
  clovers.clear();
  while (clovers.size < count) {
    const idx = Math.floor(Math.random() * totalCells);
    if (!usedIndexes.has(idx)) clovers.add(idx);
  }
}

function placeDaisy() {
  daisies.clear();
  while (daisies.size < 1) { // ë°ì´ì§€ëŠ” í•˜ë‚˜ë§Œ
    const idx = Math.floor(Math.random() * totalCells);
    if (!usedIndexes.has(idx) && !clovers.has(idx)) {
      daisies.add(idx);
    }
  }
}

function fillEmptyCells() {

const filler = 'ê°€ê°ê°„ê°’ê°™ê°›ê°œê±°ê±´ê±¸ê²€ê²ƒê²Œê³ê³ ê³¨ê³µê´´êµêµ¬êµ­ê¶ê·¸ê·¼ê¸€ê¸ˆê¸°ê¸´ê¸¸ê¹Œê¹œê¹¨êº¾ê»´ê¼¼ê½ê¾¸ë”ë‚˜ë‚œë‚ ë‚®ë‚¯ë‚´ë„˜ë„£ë„¤ë…„ë†€ë†ˆëˆ„ëˆˆë‰´ëŠ”ë‹ˆë‹˜ë‹¤ë‹¥ë‹¬ë‹´ëŒ€ëŒ„ë”ë˜ë©ë°ë„ë™ë‘ë“œë“ë“ ë“£ë“¤ë“±ë””ë”œë”±ë•Œë•¡ë˜‘ëš«ë›°ë¼ë½ë€ëŒëë‘ë˜ëœëŸ¬ë ˆë ¤ë ¥ë ¸ë¡œë¡­ë¥´ë¥¸ë¥¼ë¦¬ë¦°ë¦¼ë§ˆë§‰ë§Œë§ë§˜ë§›ë§ë§¤ë§¨ë¨¸ë¨¹ë¨¼ë©€ë©‹ë©”ë©˜ë©°ë©´ëª¨ëª©ëª°ë¬´ë¬¸ë¬»ë¬¼ë­˜ë¯¸ë¯¼ë°€ë°”ë°•ë°˜ë°›ë°œë°¤ë°¥ë°©ë±…ë²„ë²…ë²ˆë²•ë²¼ë³„ë³´ë³µë³¼ë´ë´¤ë¶€ë¶ë¶„ë¶ˆë¶™ë¸Œë¸”ë¹„ë¹ˆë¹Œë¹”ë¹›ë¹ ë¹¡ë¹¨ë¹¼ë»¥ë¿”ì‚¬ì‚´ìƒìƒˆìƒ‰ìƒì„œì„ ì„¬ì„­ì„°ì„¸ì…‹ì†Œì†ì†œìˆ˜ìˆ™ìˆœìˆ²ì‰¬ìŠ´ì‹œì‹ ì‹¤ì‹¶ìŒì“°ì”Œì”»ì•„ì•…ì•ˆì•Œì•˜ì•ì• ì•¼ì–‘ì–´ì–¼ì—„ì—…ì—†ì—ˆì—‰ì—ì—¬ì—´ì˜ì˜›ì˜¤ì˜¨ì˜¬ì˜´ì˜·ì˜¹ì™€ì™”ì™œìš°ìš´ìš¸ì›ìœ„ìœ ìœ¤ìœ¼ì€ì„ìŒì˜ì´ìµì¸ì¼ìƒì„ì…ìˆìŠìì‘ì–ì˜ì¥ì¬ì €ì ì „ì •ì œì ¸ì¡¸ì¢€ì¢‹ì£¼ì¤„ì¤‘ì¤¬ì§€ì§„ì§‘ì§œì§ì°ì°¨ì°©ì°¸ì°½ì±„ì±…ì²™ì²œì²­ì²´ì³¤ì´ˆì´Œì¶œì·„ì·¨ì¹˜ì¹œì¹´ì¼œì½”ì½œí¬í°í…Œí† íŠ¸íŠ¼íŒŒíŒí­í¼í•€í•„í•˜í•™í•œí• í•´í–„í–ˆí–‰í˜„í˜•í˜¸í˜¼í™”í™˜íˆí˜'.split('');
  
  shuffle(filler);
  let iFiller = 0;
  for (let i = 0; i < totalCells; i++) {
    if (!board[i] && !clovers.has(i) && !daisies.has(i)) {
  board[i] = filler[iFiller++ % filler.length];
}
  }
}

   
function updateScore() {
  const userContent = "<h2>ì‚¬ìš©ì:</h2>" + foundBy.user.map(w => `<p>${w}</p>`).join("");
  const npcContent = "<h2>ì»´í“¨í„°:</h2>" + foundBy.npc.map(w => `<p>${w}</p>`).join("");
  userScoreEl.innerHTML = userContent;
  npcScoreEl.innerHTML = npcContent;
  if (userScoreMobileEl && npcScoreMobileEl) {
    userScoreMobileEl.innerHTML = userContent;
    npcScoreMobileEl.innerHTML = npcContent;
  }
}

function checkWords() {
  for (let word of words) {
    if (foundWords.has(word)) continue;
    const positions = wordMap[word];
    if (positions.every(i => revealed[i])) {
      foundWords.add(word);
      const owner = currentPlayer === 'user' ? 'user' : 'npc';
      foundBy[owner].push(word);
      positions.forEach(i => gameEl.children[i].classList.add(owner === 'user' ? 'word-owned-user' : 'word-owned-npc'));
      updateScore();
    }
  }
  if (foundWords.size === words.length && !resultShown) {
    resultShown = true;
    clearTimeout(npcTimeoutId);
    const userCount = foundBy.user.length;
    const npcCount = foundBy.npc.length;
    let userMessage = '';
    let npcMessage = '';
    if (userCount > npcCount) {
      userMessage = "<span style='font-family:\"Apple Color Emoji\", \"Segoe UI Emoji\", sans-serif;'>ğŸ†</span> [ìŠ¹ë¦¬!!]";
      npcMessage = "<span style='font-family:\"Apple Color Emoji\", \"Segoe UI Emoji\", sans-serif;'>ğŸ¥ˆ</span> [íŒ¨ë°°~]";
    } else {
      userMessage = "<span style='font-family:\"Apple Color Emoji\", \"Segoe UI Emoji\", sans-serif;'>ğŸ¥ˆ</span> [íŒ¨ë°°~]";
      npcMessage = "<span style='font-family:\"Apple Color Emoji\", \"Segoe UI Emoji\", sans-serif;'>ğŸ†</span> [ìŠ¹ë¦¬!!]";
    }
 

    if (userMessage && npcMessage) {
      userScoreEl.innerHTML += `<p style='font-size:1.3em; margin-top:10px; color:#FFD700; font-weight:bold;'>${userMessage}</p>`;
      npcScoreEl.innerHTML += `<p style='font-size:1.3em; margin-top:10px; color:#FFD700; font-weight:bold;'>${npcMessage}</p>`;
      if (userScoreMobileEl && npcScoreMobileEl) {
        userScoreMobileEl.innerHTML += `<p style='font-size:1.1em; margin-top:10px; color:#FFD700; font-weight:bold;'>${userMessage}</p>`;
        npcScoreMobileEl.innerHTML += `<p style='font-size:1.1em; margin-top:10px; color:#FFD700; font-weight:bold;'>${npcMessage}</p>`;
      }
    }
  }
}

function reveal(index) {
  if (revealed[index]) return;
  revealed[index] = true;
  const cell = gameEl.children[index];
  cell.classList.add('revealed');
  cell.textContent = board[index];
}

function switchTurn() {
  if (resultShown) return;
  currentPlayer = currentPlayer === 'user' ? 'npc' : 'user';
  if (currentPlayer === 'npc') {
    npcTimeoutId = setTimeout(npcTurn, 800);
  }
}

function npcTurn() {
  if (resultShown || currentPlayer !== 'npc') return;
  const options = revealed.reduce((acc, r, i) => (!r ? [...acc, i] : acc), []);
  if (options.length === 0) return;
  const choice = options[Math.floor(Math.random() * options.length)];
  handleClick(choice);
}

function handleClick(index) {
  if (revealed[index] || resultShown) return;
  let wasClover = false;
  let wasDaisy = false;

  const cell = gameEl.children[index];

  if (clovers.has(index)) {
    wasClover = true;
    cell.classList.add('revealed', 'clover');
    cell.innerHTML = '<span>ğŸ€</span>';
    revealed[index] = true;

    const dx = [0, 0, -1, 1, 0];
    const dy = [-1, 1, 0, 0, 0];

    for (let d = 0; d < dx.length; d++) {
      const nx = index % gridSize + dx[d];
      const ny = Math.floor(index / gridSize) + dy[d];
      if (nx >= 0 && nx < gridSize && ny >= 0 && ny < gridSize) {
        const nIdx = ny * gridSize + nx;
        reveal(nIdx);
      }
    }

  } else if (daisies.has(index)) {
    wasDaisy = true;
    cell.classList.add('revealed', 'daisy');
    cell.innerHTML = '<span>ğŸŒ¼</span>';
    revealed[index] = true;

    for (let dx = -1; dx <= 1; dx++) {
      for (let dy = -1; dy <= 1; dy++) {
        const nx = index % gridSize + dx;
        const ny = Math.floor(index / gridSize) + dy;
        if (nx >= 0 && nx < gridSize && ny >= 0 && ny < gridSize) {
          const nIdx = ny * gridSize + nx;
          reveal(nIdx);
        }
      }
    }

  } else {
    reveal(index);
  }

  checkWords();

  if ((!wasClover && !wasDaisy) && !resultShown) {
    switchTurn();
  } else if ((wasClover || wasDaisy) && currentPlayer === 'npc' && !resultShown) {
    npcTimeoutId = setTimeout(npcTurn, 800);
  }
}

  
function init() {
  clearTimeout(npcTimeoutId);
  board = Array(totalCells).fill(null);
  revealed = Array(totalCells).fill(false);
  wordMap = {};
  foundWords = new Set();
  foundBy = { user: [], npc: [] };
  currentPlayer = 'user';
  usedIndexes = new Set();
  words = getRandomWords();
  resultShown = false;
  clovers.clear();
daisies.clear()
  let placedWords = 0;
  let attempts = 0;
  while (placedWords < words.length && attempts < 50) {
    if (placeWord(words[placedWords])) placedWords++;
    attempts++;
  }
  words = words.slice(0, placedWords);

  placeClovers(5);
placeDaisy(1); 
  fillEmptyCells();
  updateScore();

  gameEl.innerHTML = '';
  for (let i = 0; i < totalCells; i++) {
    const cell = document.createElement('div');
    cell.className = 'cell';
    cell.addEventListener('click', () => {
      if (currentPlayer === 'user' && !resultShown) handleClick(i);
    });
    gameEl.appendChild(cell);
  }

  
  console.log('ê²Œì„ì— ë°°ì¹˜ëœ ë‹¨ì–´ë“¤:', words);
}

retryBtn.addEventListener('click', init);
window.addEventListener('resize', updateLayout);

function updateLayout() {
  const isMobile = window.innerWidth <= 768;
  if (isMobile) {
    npcScoreEl.style.display = 'none';
    userScoreEl.style.display = 'none';
    document.querySelector('.score-container').style.display = 'flex';
  } else {
    npcScoreEl.style.display = 'block';
    userScoreEl.style.display = 'block';
    document.querySelector('.score-container').style.display = 'none';
  }
}

updateLayout();
init();
</script>
</body>
</html>




