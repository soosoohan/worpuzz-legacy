<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì›Œí¼ì¦ˆ ìƒëª…</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #209087;
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 0;
    padding: 10px;
  }
  h1 {
    font-size: 3em;
    margin: 20px 0 10px;
    color: #EF0;
  }
  p.rule {
    margin: 0 0 10px;
    font-size: 1em;
    color: #EF0;
    text-align: center;
    line-height: 1.4;
  }
  .container {
    display: flex;
    align-items: flex-start;
    gap: 20px;
    margin-bottom: 10px;
    width: 100%;
    max-width: 800px;
    justify-content: center;
  }
  .score-container {
    display: none;
    flex-direction: column;
    gap: 10px;
    width: 95%;
    max-width: 400px;
  }
  .score-container #npcScore-mobile, 
  .score-container #userScore-mobile {
    background-color: #0E756D;
    color: #fff;
    width: 100%;
    padding: 10px;
    box-sizing: border-box;
    border-radius: 12px;
  }
  .score-container #npcScore-mobile h2,
  .score-container #userScore-mobile h2 {
    font-size: 0.9em;
    margin: 0 0 5px;
  }
  .score-container #npcScore-mobile p,
  .score-container #userScore-mobile p {
    font-size: 0.9em;
    display: inline-block;
    margin: 2px 5px;
  }
  #npcScore, #userScore {
    background-color: #0E756D;
    color: #fff;
    width: 180px;
    min-height: 300px;
    padding: 10px;
    box-sizing: border-box;
    border-radius: 12px;
    flex-shrink: 0;
  }
  #npcScore h2, #userScore h2 {
    font-size: 1.2em;
    margin-top: 0;
    margin-bottom: 10px;
  }
  #npcScore p, #userScore p {
    font-size: 1.1em;
    margin: 5px 0;
  }
  #game {
    display: grid;
    grid-template-columns: repeat(10, 1fr);
    grid-gap: 5px;
    padding: 10px;
    background-color: #0E756D;
    border-radius: 12px;
    width: 400px;
    height: 400px;
    box-sizing: border-box;
    flex-shrink: 0;
  }
  .cell {
    width: 100%;
    height: 100%;
    aspect-ratio: 1 / 1;
    background-color: #CFF9FF;
    color: #0A6A79;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.3em;
    font-weight: bold;
    cursor: pointer;
    user-select: none;
    border-radius: 4px;
  }

.revealed {
    background-color: #fff;
  }
  

  .revealed.clover {
    background-color: #d0f5d0;
    font-size: 1.5em;
  }
  .revealed.clover span {
    font-family: "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
  }


.revealed.daisy {
  background-color: #fff4e0; /* ë°ì€ ë°ì´ì§€ ëŠë‚Œì˜ ë°°ê²½ */
  font-size: 1.5em;
}
.revealed.daisy span {
  font-family: "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
}


  .word-owned-user {
    background-color: #fff9c4;
  }
  .word-owned-npc {
    background-color: #ffe0e0;
  }
  .btn-container {
    display: flex;
    gap: 10px;
    margin: 15px;
  }
  button {
    font-size: 1.1em;
    padding: 10px 20px;
    cursor: pointer;
    background-color: #CFF9FF;
    color: #0A6A79;
    border-radius: 12px;
    border: none;
  }
  button:hover {
    background-color: #1baf8f;
    color: #fff;
  }
  @media (max-width: 768px) {
    h1 {
      font-size: 2.5em;
      margin: 15px 0 5px;
    }
    p.rule {
      font-size: 0.9em;
      margin: 0 10px 15px;
    }
    .container {
      flex-direction: column;
      align-items: center;
      width: 100%;
    }
    #game {
      width: 95%;
      max-width: 400px;
      height: auto;
      aspect-ratio: 1 / 1;
    }
    .btn-container {
      margin: 10px;
      width: 95%;
      max-width: 400px;
      justify-content: center;
    }
    button {
      font-size: 1em;
      padding: 12px 25px;
      flex: 1;
      max-width: 150px;
    }
    .score-container {
      display: flex !important;
    }
    #npcScore, #userScore {
      display: none !important;
    }
  }
</style>
</head>
<body>

<h1>ì›Œí¼ì¦ˆ ìƒëª…</h1>
<p class="rule">
ê°€ë¡œâ†’, ì„¸ë¡œâ†“, ëŒ€ê°ì„ â†˜ìœ¼ë¡œ ìˆëŠ” ë™ë¬¼ê³¼ ì‹ë¬¼ì˜ ì´ë¦„ì„ ì°¾ìœ¼ì„¸ìš”.<br>
ğŸ€ ë„¤ìí´ë¡œë²„ë¥¼ ì°¾ìœ¼ë©´ ì£¼ë³€ ìƒí•˜ì¢Œìš° ì¹¸ì´ í•¨ê»˜ ì—´ë¦¬ê³ , í•œ ë²ˆ ë” í„´ì„ ê°€ì§‘ë‹ˆë‹¤.<br>
ğŸŒ¼ ë°ì´ì§€ê½ƒì„ ì°¾ìœ¼ë©´ ëŒ€ê°ì„ ì„ í¬í•¨í•œ ì£¼ë³€ 8ì¹¸ì´ ì—´ë¦¬ë©°, ì—­ì‹œ í•œ ë²ˆ ë” í„´ì„ ê°€ì§‘ë‹ˆë‹¤.<br>


ì»´í“¨í„°ì™€ ëŒ€ê²°í•˜ì—¬ ë” ë§ì€ ë‹¨ì–´ë¥¼ ì°¾ìœ¼ë©´ ì´ê¹ë‹ˆë‹¤ !
</p>

<div class="container">
  <div id="npcScore">
    <h2>ì»´í“¨í„°:</h2>
  </div>
  <div id="game"></div>
  <div id="userScore">
    <h2>ì‚¬ìš©ì:</h2>
  </div>
</div>

<div class="score-container">
  <div id="npcScore-mobile">
    <h2>ì»´í“¨í„°:</h2>
  </div>
  <div id="userScore-mobile">
    <h2>ì‚¬ìš©ì:</h2>
  </div>
</div>

<div class="btn-container">
  <button id="retryBtn">ë‹¤ì‹œ í•˜ê¸°</button>
  <button onclick="location.href='index.html'">ì´ˆê¸°í™”ë©´</button>
</div>
<script>

const two_letter_words = ["ê°€ì¬","ê°€ì§€","ê°ì","ê°ì´ˆ","ê°•í™©","ê±°ë¶","ê±°ìœ„","ê³„í”¼","ê³ ë‘¥","ê³ ë˜","ê³ ìˆ˜","ê³ ì¶”","ê³°ì†”","ê³µì‘","ê´‘ì–´","êµ­í™”","ê¸°ë¦°","ê¹Œì¹˜","ë‚™ì§€","ë‚™íƒ€","ë…¸ìƒˆ","ë†ì–´","ë‰´íŠ¸","ëŠ‘ëŒ€","ë‹´ë¹„","ë‹¹ê·¼","ëŒ€êµ¬","ëŒ€íŒŒ","ëŒ€í•©","ë„ë¯¸","ë™ë°±","ë¼ì§€","ë“¤ì†Œ","ë”©ê³ ","ë”¸ê¸°","ë•…ì½©","ë¼ë§ˆ","ë¼ì„","ë¼ì¿¤","ë ˆëª¬","ë¦¬ì¹˜","ë§ˆëŠ˜","ë§ˆë©‹","ë§ë²Œ","ë§ê³ ","ë§¤ë¯¸","ë©”ê¸°","ë©œë¡ ","ë©¸ì¹˜","ëª…íƒœ","ëª©ë ¨","ë¬˜ëª©","ë¬´ìŠ¤","ë¬¸ì–´","ë¬¼ê°œ","ë¬¼ì†Œ","ë¯¸ì—­","ë¯¼íŠ¸","ë°”ì§ˆ","ë°°ì¶”","ë°±ì¡°","ë°±í•©","ë²Œìƒˆ","ë³µì–´","ë¶€ë“¤","ë¶€ì¶”","ë¶“ê½ƒ","ë¶•ì–´","ë¹„ë²„","ë¹„íŠ¸","ì‚¬ê³¼","ì‚¬ìŠ´","ì‚¬ì","ì‚°í˜¸","ì‚´êµ¬","ìƒì–´","ìƒì¶”","ìƒˆìš°","ìƒê°•","ìƒì¥","ì„ë¥˜","ì„±ê²Œ","ì†Œë¼","ì†¡ì–´","ìˆ˜êµ­","ìˆ˜ë‹¬","ìˆ˜ë ¨","ìˆ˜ë°•","ìˆœë¡","ìˆœë¬´","ì‹±ì•„","ì•¼í¬","ì–‘íŒŒ","ì—ë®¤","ì—˜í¬","ì—¬ìš°","ì—°ì–´","ì—¼ì†Œ","ì˜¤ë¦¬","ì˜¤ì´","ìš°ì—‰","ìš¸ìƒˆ","ì›œë±ƒ","ì€ì–´","ì´ë¼","ì¸ì‚¼","ì‰ì–´","ìë‘","ìì¹¼","ì‘ì•½","ì¥ë¯¸","ì¥ì–´","ì „ë³µ","ì •í–¥","ì œë¹„","ì¡°ê°œ","ì£¼ëª©","ìª½íŒŒ","ì°¸ìƒˆ","ì°¸ì¹˜","ì² ì­‰","ì²´ë¦¬","ì¹˜íƒ€","ì¼€ì¼","í¬ë¦´","í‚¤ìœ„","íƒ€ì„","íƒ€ì¡°","í† ë¼","íˆ¬ì¹¸","íŠ¤ë¦½","íŒë‹¤","íŒ¬ì§€","í¼í•€","íœë„¬","í­ê·„","í¬ë„","í‘œë²”","í“¨ë§ˆ","í”¼ë§","í”¼ì¹¸","í•´ë‹¬","í•´ë§ˆ","í•´ë©´","í•´ì‚¼","í•´ìº„","í•´ì´ˆ","í˜¸ë‘","í˜¸ë°•","í˜¸ì €","í™í•™","í™í•©","í™©ì†Œ"," ë°•í•˜"," íšŒí–¥","êµ­í™”", "êµ­í™”","ë°±í•©","ìˆ˜êµ­","ì‘ì•½","ì¥ë¯¸","íŠ¤ë¦½","ëƒ‰ì´","ë§ì´ˆ","ë©”ê½ƒ","ì—¬ë€Œ","ê°ˆëŒ€","ë°±í•©",];

const three_letter_words = ["ê°€ë¦¬ë¹„","ê°€ìë¯¸","ê°ˆë§¤ê¸°","ê°ë‚˜ë¬´","ê°œêµ¬ë¦¬","ê°œë‚˜ë¦¬","ê±°ë¶ì´","ê³ êµ¬ë§ˆ","ê³ ë“±ì–´","ê³ ë¼ë‹ˆ","ê³ ë¦´ë¼","ê³ ì–‘ì´","êµ¬ì•„ë°”","ê·œì¡°ë¥˜","ê¸ˆë¶•ì–´","ê¸ˆì”í™”","ê¸°ëŸ¬ê¸°","ê¹Œë§ˆê·€","ê¾€ê¼¬ë¦¬","ë‚˜íŒ”ê½ƒ","ë‚™ì—½ì†¡","ë‚™ìš°ì†¡","ë„ˆêµ¬ë¦¬","ëˆˆê½ƒê²Œ","ë‹¤ëŒì¥","ë‹¤ì‹œë§ˆ","ë‹¬íŒ½ì´","ë‹´íŒ”ìˆ˜","ë‹¹ë‚˜ê·€","ëŒ€ë‚˜ë¬´","ë°ì´ì§€","ë„ë„ìƒˆ","ë„ë¡±ë‡½","ë„ë§ˆë±€","ë…ìˆ˜ë¦¬","ëŒê³ ë˜","ë™ë°±ê½ƒ","ë‘êº¼ë¹„","ë‘ë”ì§€","ë‘ë£¨ë¯¸","ë”°ê°œë¹„","ë”¸ë‚˜ë¬´","ë¼ë²¤ë”","ë¼ì¼ë½","ë ˆëª¬ë°¤","ë§ˆê°€ë ›","ë§ˆê°€ëª©","ë§ë¯¸ì˜","ë§˜ëª¨ìŠ¤","ë§ì•„ì§€","ë§¤ë„ˆí‹°","ë©”ëšœê¸°","ë©§ë¼ì§€","ë¬´ê¶í™”","ë¬´í™”ê³¼","ë¬¼ìƒì¶”","ë¯¸ì–´ìº£","ë¯¼ë“¤ë ˆ","ë°”ë‚˜ë‚˜","ë°”ì§€ë½","ë°¤ë‚˜ë¬´","ë°©ìš¸ê½ƒ","ë°±ë¦¬í–¥","ë°±ìƒì–´","ë°±ì¼í™","ë±€ì¥ì–´","ë²šë‚˜ë¬´","ë³‘ì•„ë¦¬","ë³µìˆ­ì•„","ë³µìê¸°","ë³¼ë³µìŠ¤","ë´‰ì„ í™”","ë¶€ë“¤ë¥˜","ë¶€ì—‰ì´","ë¶ê·¹ê³°","ë¹„ë‘˜ê¸°","ë½•ë‚˜ë¬´","ì‚¼ë‚˜ë¬´","ì…€ëŸ¬ë¦¬","ì„ ì¸ì¥","ì„¸ì´ì§€","ì†Œë‚˜ë¬´","ì†¡ì•„ì§€","ìˆ˜ì„ í™”","ìŠ¤ì»¹í¬","ìŠ¤í‚¨í¬","ì‹œê¸ˆì¹˜","ì•„ë©”ë°”","ì•„ëª¬ë“œ","ì•Œë¡œì—","ì•Œë¦¬ì›€","ì•ŒíŒŒì¹´","ì• í˜¸ë°•","ì•µë¬´ìƒˆ","ì–‘ê·€ë¹„","ì–‘ë¯¸ë¦¬","ì–‘ë°°ì¶”", "ì–´ë¦¬ì—°","ì–¼ë£©ë§","ì˜¤ë Œì§€","ì˜¤ì§•ì–´","ì˜¬ë¦¬ë¸Œ","ì˜¬ë¹¼ë¯¸","ì˜¬ì±™ì´","ì™ˆë¼ë¹„","ìš°ì‚°ìƒˆ","ì›ìˆ­ì´","ì›ì•™ìƒˆ","ìœ ì‚°ê· ","ìë²Œë ˆ","ììŠ¤ë¯¼","ì ìë¦¬","ì¬ê·œì–´","ì „ë‚˜ë¬´","ì •ì–´ë¦¬","ì œë¼ëŠ„","ì œë¹„ê½ƒ","ì¡°ë‘ë§","ì¡±ì œë¹„","ì¢…ë‹¬ìƒˆ","ì§„ë‹¬ë˜","ì°¸ë‚˜ë¬´","ì±„ì†¡í™”","ì¹œì¹ ë¼","ì¹ ë©´ì¡°","ì¹¨íŒ¬ì§€","ìº¥ê±°ë£¨","ì½”ë¼ë¦¬","ì½”ë¸Œë¼","ì½”ë¿”ì†Œ","ì½”ì•Œë¼","ì½”ìš”í…Œ","ì½”ì½”ë„›","í‚¤ìœ„ìƒˆ","í† ë§ˆí† ","íŒŒìŠ¬ë¦¬","íŒŒíŒŒì•¼","í ë¦¬ì»¨","í¬í”ŒëŸ¬","í”¼ë¼ëƒ","í• ë¯¸ê½ƒ","í•´íŒŒë¦¬","í–„ìŠ¤í„°","í–¥ë‚˜ë¬´","í˜¸ë‘ì´","í°ê³ ë˜","ì¡°ë¡±ë°•","ê¸ˆì–´ì´ˆ","ì§„ë‹¬ë˜","ì¹ ë©´ì¡°","ì°¸ê³ ë˜","ê±°ë² ë¼","ë¼ì¼ë½","ì•ˆê°œê½ƒ","ê°œë§ì´ˆ","ê°œì—¬ë€Œ","ê³ ë§ˆë¦¬","ëŒë‚˜ë¬¼","ëª…ì•„ì£¼","ë¯¼ë“¤ë ˆ","ì‡ ë¹„ë¦„","ì”€ë°”ê·€","ì œë¹„ê½ƒ","ì§ˆê²½ì´","ì°¸ë‚˜ë¦¬","ë‚˜ë¦¬ê½ƒ","ë¹„ë¹„ì¶”","í”¼ë§ˆì","ìˆ˜ì„¸ë¯¸",];

const four_letter_words = ["ê°€ë˜ë‚˜ë¬´","ê°€ì‹œë‚˜ë¬´","ê°€ì£½ë‚˜ë¬´","ê°ˆë§¤ë‚˜ë¬´","ê°íƒ•ë‚˜ë¬´","ê°‘ì˜¤ì§•ì–´","ê°œêµ¬ë¦¬ë°¥","ê°œë¯¸í•§ê¸°","ê°œì•”ë‚˜ë¬´","ê°œì˜»ë‚˜ë¬´","ê³„ìˆ˜ë‚˜ë¬´","ê³ ìŠ´ë„ì¹˜","êµ¬ìƒë‚˜ë¬´","êµ´ì°¸ë‚˜ë¬´","ê·€ë£½ë‚˜ë¬´","ê¾¸ì§€ë‚˜ë¬´","ë‚˜ë¬´ëŠ˜ë³´","ë‰´íŠ¸ë¦¬ì•„","ëŠë¦…ë‚˜ë¬´","ëŠí‹°ë‚˜ë¬´","ë‹¨í’ë‚˜ë¬´","ëŒ€ì¶”ë‚˜ë¬´","ëŒ€ì¶”ì•¼ì","ëŒ•ê°•ë‚˜ë¬´","ë™ë°±ë‚˜ë¬´","ë‘ë¦…ë‚˜ë¬´","ë“¤ë©”ë‚˜ë¬´","ë”±ë”°êµ¬ë¦¬","ë–¡ê°ˆë‚˜ë¬´","ë¼ì¦ˆë² ë¦¬","ë‘êµ¬ìŠ¤í‹´","ë ˆë“œìš°ë“œ","ë¡œì¦ˆë§ˆë¦¬","ë£¨í”¼ë„ˆìŠ¤","ë¦¬ì¡°ë¹„ì›€","ë§ˆí˜¸ê°€ë‹ˆ","ë§ì±„ë‚˜ë¬´","ë§ê·¸ë¡œë¸Œ","ë§¤ìë‚˜ë¬´","ë¨¸ë“œí¼í”¼","ë©”ë¦¬ê³¨ë“œ","ë©”ì¶”ë¼ê¸°","ë¯¸ë£¨ë‚˜ë¬´","ë°”ë‹¤ì‚¬ì","ë°”ë‹·ê°€ì¬","ë°”ìœ„ìƒˆìš°","ë°•ë‹¬ë‚˜ë¬´","ë°˜ì–€ë‚˜ë¬´","ë°°ë¡±ë‚˜ë¬´","ë°±ìƒì•„ë¦¬","ë²„ë“œë‚˜ë¬´","ë² ê³ ë‹ˆì•„","ë¶ê·¹ì—¬ìš°","ë¶„ë¹„ë‚˜ë¬´","ë¶ˆê°€ì‚¬ë¦¬","ë¸Œë¡œì½œë¦¬","ë¸”ë™ë² ë¦¬","ë¸”ë£¨ë² ë¦¬","ë¹„ìë‚˜ë¬´","ì‚¬ë§‰ì—¬ìš°","ì‚¬ì‹œë‚˜ë¬´","ì‚°ë¹„ë‘˜ê¸°","ìƒì´ê°€ë˜","ì„¸ì¿¼ì´ì•„","ì†Œê¸ˆìŸì´","ì†”ì†¡ë‚˜ë¬´","ì‡ ëŒê³ ë˜","ì‹œì‹¤ë¦¬ì–¸","ì•„ë‚˜ì½˜ë‹¤","ì•„ë„¤ëª¨ë„¤","ì•„ë³´ì¹´ë„","ì• í”Œë¯¼íŠ¸","ì•µë¬´ì¡°ê°œ","ì•¼ìë‚˜ë¬´","ì—”ì ¤í”¼ì‰¬","ì˜¤ë‘ìš°íƒ„","ì˜¤ë ˆê°€ë…¸","ì€ë°©ìš¸ê½ƒ","ì€í–‰ë‚˜ë¬´","ì¼ê°ê³ ë˜","ìì‘ë‚˜ë¬´","ì£¼ë¨¸ë‹ˆì¥","ì² ê°‘ìƒì–´","ì²­ê°œêµ¬ë¦¬","ì¸¡ë°±ë‚˜ë¬´","ì¸µì¸µë‚˜ë¬´","ì¹´ë„¤ì´ì…˜","ì¹´ë©œë ˆì˜¨","ì¹´í”¼ë°”ë¼","ìºëª¨ë§ˆì¼","ì½”ìŠ¤ëª¨ìŠ¤","í´ë¡œë ë¼","í‹°í¬ë‚˜ë¬´","íŒŒì¸ì• í”Œ","íŒŒí”„ë¦¬ì¹´","íŒ¨ë­ì´ê½ƒ","í˜íŠœë‹ˆì•„","í˜í¼ë¯¼íŠ¸","í”„ë¦¬ì§€ì•„","í”Œë¼ë°ê³ ","í”Œë‘í¬í†¤","í•˜ì´ì—ë‚˜","í•´ë°”ë¼ê¸°","í•´ì˜¤ë¼ê¸°","í˜¸ë‘ë‚˜ë¬´","í˜¸ë‘ë‚˜ë¹„","í™€ë¦¬ë°”ì§ˆ","í‘ë‘ë£¨ë¯¸","íˆì•„ì‹ ìŠ¤","ì²­ë‘¥ì˜¤ë¦¬","ê³ ì¶”ë‚˜ë¬¼","ìƒì´ê°€ë˜","ê²¨ìš°ì‚´ì´","ê°€ì‹œê³ ê¸°","ê°íƒ•ë‚˜ë¬´","êµ¬ìƒë‚˜ë¬´","íŒ¥ë°°ë‚˜ë¬´","ìì£¼ì—½ì´ˆ","ë²„ì¦˜ë‚˜ë¬´", "ê·€ì‹ ê³ ë˜","ëŒ€ì™•ê³ ë˜","ë°í¬ê³ ë˜","ë¶ê·¹ê³ ë˜","í–¥ìœ ê³ ë˜","í˜¹ë“±ê³ ë˜","ì¹´ë„¤ì´ì…˜","í”„ë¦¬ì§€ì•„","í•´ë°”ë¼ê¸°","íˆì•„ì‹ ìŠ¤","ê°•ì•„ì§€í’€","ê°œê°“ëƒ‰ì´","ê´‘ëŒ€ë‚˜ë¬¼","ê¹Œì¹˜ìˆ˜ì—¼","ë‹¬ë§ì´ê½ƒ","ë¬¼ë‹¬ê°œë¹„","ì†Œë¦¬ìŸì´","ì• ê¸°ë•…í’€","ì œë¹„ê¿€í’€","ë²•ìˆ˜í™ë ¨","ì•„ë¼í™ë ¨", "ë¬´ëŠ¬ê°ˆëŒ€","ë¬¼ìˆ˜ì„¸ë¯¸","ì• ê¸°ë¶€ë“¤","í•˜ëŠ˜ë‚˜ë¦¬","ë–¡ê°ˆë‚˜ë¬´","ê°€ë˜ë‚˜ë¬´","ê°€ë§ˆìš°ì§€","ê¹Œë§‰ê¹Œì¹˜","ë„ê¹¨ë¹„ë°”ëŠ˜","ë„ê¼¬ë§ˆë¦¬","í™©ì¡°ë¡±ì´","ì²­ê°œêµ¬ë¦¬",
];

const five_or_more_letter_words = ["ê°€ë¬¸ë¹„ë‚˜ë¬´", "ê°œì˜¤ë™ë‚˜ë¬´","ê²€ì€ì¬ë‚˜ë¬´","ê³ ë¡œì‡ ë‚˜ë¬´","ê¸ˆê°•ì†Œë‚˜ë¬´","ê¹Œì¹˜ë°¥ë‚˜ë¬´","ë‚˜ë„ë°¤ë‚˜ë¬´","ë„ˆë„ë°¤ë‚˜ë¬´","ë…¸ê°„ì£¼ë‚˜ë¬´","ë‹´ìŸì´ë©êµ´","ë ˆëª¬ê·¸ë¼ìŠ¤","ë©€êµ¬ìŠ¬ë‚˜ë¬´","ëª¨ê°ì£¼ë‚˜ë¬´","ë¬¼í‘¸ë ˆë‚˜ë¬´","ë°”ë‹¤ì½”ë¼ë¦¬","ë°”ì˜¤ë°¥ë‚˜ë¬´","ë°©ìš¸ì–‘ë°°ì¶”","ë°°ì¶”í°ë‚˜ë¹„","ë¶‰ê°€ì‹œë‚˜ë¬´","ì•Œë°”íŠ¸ë¡œìŠ¤","ì–¼ë£©ë„ë¡±ë‡½","ìœ ì¹¼ë¦½íˆ¬ìŠ¤","ì²œë„ë³µìˆ­ì•„","ì½œë¦¬í”Œë¼ì›Œ","í”Œë¼íƒ€ë„ˆìŠ¤","íˆë¹„ìŠ¤ì»¤ìŠ¤","íˆì½”ë¦¬ë‚˜ë¬´","ê³ ë¡œì‡ ë‚˜ë¬´","ê¸ˆê°•ì†Œë‚˜ë¬´","ë…¸ê°„ì£¼ë‚˜ë¬´","ë§ˆê°€ëª©ë‚˜ë¬´","ë¬¼í‘¸ë ˆë‚˜ë¬´","ì—¬ìš°ì›ìˆ­ì´","ìì£¼ë‹¬ê°œë¹„","ê¸€ë¼ë””ì˜¬ëŸ¬ìŠ¤","ì›Œí„°íˆì•„ì‹ ìŠ¤","í‘ë¨¸ë¦¬ë¬¼ë–¼ìƒˆ","ëŒ€ë¨¸ë¦¬ë…ìˆ˜ë¦¬","ë©°ëŠë¦¬ë°¥í’€ê½ƒ","ë¶ê·¹ì œë¹„ê°ˆë§¤ê¸°","ì„œì–‘ì¥ì˜¤ì¤Œí’€","í°ë¨¸ë¦¬ë¬¼ë–¼ìƒˆ","ë…¸ë£¨ê¶ë…ì´ë²„ì„¯","ë¶‰ì€ì—¬ìš°ì›ìˆ­ì´","í˜¹ë¶€ë¦¬ê³ ë˜","í°ìˆ˜ì—¼ê³ ë˜","ë¼ë„Œí˜ëŸ¬ìŠ¤","ë¦¬ì‹œì•ˆì…”ìŠ¤","ì™•ê³ ë“¤ë¹¼ê¸°", "ë…¸ë‘ì–´ë¦¬ì—°","ì—í‚¤ë„¤ì‹œì•„","ì§ˆê²½ì´íƒì‚¬","ë‚¨ë°©ì°¸ëŒê³ ë˜","í°ë¨¸ë¦¬ëŒê³ ë˜",];



// ê° ê¸¸ì´ë³„ ë‹¨ì–´ ê°œìˆ˜ ì„¤ì •
const num_two = 3;
const num_three = 4;
const num_four = 5;
const num_five_or_more = 3;

const gridSize = 10;
const totalCells = gridSize * gridSize;
let board, revealed, wordMap, foundWords, currentPlayer, foundBy, words, usedIndexes;
let resultShown = false;
let clovers = new Set();
let daisies = new Set(); // ğŸŒ¼ ë°ì´ì§€ Set ì¶”ê°€
let npcTimeoutId = null;



const gameEl = document.getElementById('game');
const userScoreEl = document.getElementById('userScore');
const npcScoreEl = document.getElementById('npcScore');
const userScoreMobileEl = document.getElementById('userScore-mobile');
const npcScoreMobileEl = document.getElementById('npcScore-mobile');
const retryBtn = document.getElementById('retryBtn');

function shuffle(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
}

function getRandomSample(array, count) {
  const shuffled = [...array];
  shuffle(shuffled);
  return shuffled.slice(0, Math.min(count, array.length));
}

function getRandomWords() {
  let selectedWords = []
    .concat(getRandomSample(two_letter_words, num_two))
    .concat(getRandomSample(three_letter_words, num_three))
    .concat(getRandomSample(four_letter_words, num_four))
    .concat(getRandomSample(five_or_more_letter_words, num_five_or_more));
  shuffle(selectedWords);
  return selectedWords;
}

function getRandomDirection() {
  const dirs = [{ x: 1, y: 0 }, { x: 0, y: 1 }, { x: 1, y: 1 }];
  return dirs[Math.floor(Math.random() * dirs.length)];
}

function canPlaceWord(word, x, y, dx, dy) {
  for (let i = 0; i < word.length; i++) {
    let nx = x + dx * i;
    let ny = y + dy * i;
    if (nx < 0 || ny < 0 || nx >= gridSize || ny >= gridSize) return false;
    let index = ny * gridSize + nx;
    if (board[index] && board[index] !== word[i]) return false;
    if (usedIndexes.has(index)) return false;
  }
  return true;
}

function placeWord(word) {
  for (let attempt = 0; attempt < 100; attempt++) {
    let dir = getRandomDirection();
    let x = Math.floor(Math.random() * gridSize);
    let y = Math.floor(Math.random() * gridSize);
    if (canPlaceWord(word, x, y, dir.x, dir.y)) {
      let positions = [];
      for (let i = 0; i < word.length; i++) {
        let nx = x + dir.x * i;
        let ny = y + dir.y * i;
        let idx = ny * gridSize + nx;
        board[idx] = word[i];
        usedIndexes.add(idx);
        positions.push(idx);
      }
      wordMap[word] = positions;
      return true;
    }
  }
  return false;
}

function placeClovers(count) {
  clovers.clear();
  while (clovers.size < count) {
    const idx = Math.floor(Math.random() * totalCells);
    if (!usedIndexes.has(idx)) clovers.add(idx);
  }
}

function placeDaisy() {
  daisies.clear();
  while (daisies.size < 1) { // ë°ì´ì§€ëŠ” í•˜ë‚˜ë§Œ
    const idx = Math.floor(Math.random() * totalCells);
    if (!usedIndexes.has(idx) && !clovers.has(idx)) {
      daisies.add(idx);
    }
  }
}

function fillEmptyCells() {

const filler = 'ê°€ê°ê°„ê°’ê°™ê°›ê°œê±°ê±´ê±¸ê²€ê²ƒê²Œê³ê³ ê³¨ê³µê´´êµêµ¬êµ­ê¶ê·¸ê·¼ê¸€ê¸ˆê¸°ê¸´ê¸¸ê¹Œê¹œê¹¨êº¾ê»´ê¼¼ê½ê¾¸ë”ë‚˜ë‚œë‚ ë‚®ë‚¯ë‚´ë„˜ë„£ë„¤ë…„ë†€ë†ˆëˆ„ëˆˆë‰´ëŠ”ë‹ˆë‹˜ë‹¤ë‹¥ë‹¬ë‹´ëŒ€ëŒ„ë”ë˜ë©ë°ë„ë™ë‘ë“œë“ë“ ë“£ë“¤ë“±ë””ë”œë”±ë•Œë•¡ë˜‘ëš«ë›°ë¼ë½ë€ëŒëë‘ë˜ëœëŸ¬ë ˆë ¤ë ¥ë ¸ë¡œë¡­ë¥´ë¥¸ë¥¼ë¦¬ë¦°ë¦¼ë§ˆë§‰ë§Œë§ë§˜ë§›ë§ë§¤ë§¨ë¨¸ë¨¹ë¨¼ë©€ë©‹ë©”ë©˜ë©°ë©´ëª¨ëª©ëª°ë¬´ë¬¸ë¬»ë¬¼ë­˜ë¯¸ë¯¼ë°€ë°”ë°•ë°˜ë°›ë°œë°¤ë°¥ë°©ë±…ë²„ë²…ë²ˆë²•ë²¼ë³„ë³´ë³µë³¼ë´ë´¤ë¶€ë¶ë¶„ë¶ˆë¶™ë¸Œë¸”ë¹„ë¹ˆë¹Œë¹”ë¹›ë¹ ë¹¡ë¹¨ë¹¼ë»¥ë¿”ì‚¬ì‚´ìƒìƒˆìƒ‰ìƒì„œì„ ì„¬ì„­ì„°ì„¸ì…‹ì†Œì†ì†œìˆ˜ìˆ™ìˆœìˆ²ì‰¬ìŠ´ì‹œì‹ ì‹¤ì‹¶ìŒì“°ì”Œì”»ì•„ì•…ì•ˆì•Œì•˜ì•ì• ì•¼ì–‘ì–´ì–¼ì—„ì—…ì—†ì—ˆì—‰ì—ì—¬ì—´ì˜ì˜›ì˜¤ì˜¨ì˜¬ì˜´ì˜·ì˜¹ì™€ì™”ì™œìš°ìš´ìš¸ì›ìœ„ìœ ìœ¤ìœ¼ì€ì„ìŒì˜ì´ìµì¸ì¼ìƒì„ì…ìˆìŠìì‘ì–ì˜ì¥ì¬ì €ì ì „ì •ì œì ¸ì¡¸ì¢€ì¢‹ì£¼ì¤„ì¤‘ì¤¬ì§€ì§„ì§‘ì§œì§ì°ì°¨ì°©ì°¸ì°½ì±„ì±…ì²™ì²œì²­ì²´ì³¤ì´ˆì´Œì¶œì·„ì·¨ì¹˜ì¹œì¹´ì¼œì½”ì½œí¬í°í…Œí† íŠ¸íŠ¼íŒŒíŒí­í¼í•€í•„í•˜í•™í•œí• í•´í–„í–ˆí–‰í˜„í˜•í˜¸í˜¼í™”í™˜íˆí˜'.split('');
  
  shuffle(filler);
  let iFiller = 0;
  for (let i = 0; i < totalCells; i++) {
    if (!board[i] && !clovers.has(i) && !daisies.has(i)) {
  board[i] = filler[iFiller++ % filler.length];
}
  }
}

   
function updateScore() {
  const userContent = "<h2>ì‚¬ìš©ì:</h2>" + foundBy.user.map(w => `<p>${w}</p>`).join("");
  const npcContent = "<h2>ì»´í“¨í„°:</h2>" + foundBy.npc.map(w => `<p>${w}</p>`).join("");
  userScoreEl.innerHTML = userContent;
  npcScoreEl.innerHTML = npcContent;
  if (userScoreMobileEl && npcScoreMobileEl) {
    userScoreMobileEl.innerHTML = userContent;
    npcScoreMobileEl.innerHTML = npcContent;
  }
}

function checkWords() {
  for (let word of words) {
    if (foundWords.has(word)) continue;
    const positions = wordMap[word];
    if (positions.every(i => revealed[i])) {
      foundWords.add(word);
      const owner = currentPlayer === 'user' ? 'user' : 'npc';
      foundBy[owner].push(word);
      positions.forEach(i => gameEl.children[i].classList.add(owner === 'user' ? 'word-owned-user' : 'word-owned-npc'));
      updateScore();
    }
  }
  if (foundWords.size === words.length && !resultShown) {
    resultShown = true;
    clearTimeout(npcTimeoutId);
    const userCount = foundBy.user.length;
    const npcCount = foundBy.npc.length;
    let userMessage = '';
    let npcMessage = '';
    if (userCount > npcCount) {
      userMessage = "<span style='font-family:\"Apple Color Emoji\", \"Segoe UI Emoji\", sans-serif;'>ğŸ†</span> [ìŠ¹ë¦¬!!]";
      npcMessage = "<span style='font-family:\"Apple Color Emoji\", \"Segoe UI Emoji\", sans-serif;'>ğŸ¥ˆ</span> [íŒ¨ë°°~]";
    } else {
      userMessage = "<span style='font-family:\"Apple Color Emoji\", \"Segoe UI Emoji\", sans-serif;'>ğŸ¥ˆ</span> [íŒ¨ë°°~]";
      npcMessage = "<span style='font-family:\"Apple Color Emoji\", \"Segoe UI Emoji\", sans-serif;'>ğŸ†</span> [ìŠ¹ë¦¬!!]";
    }
 

    if (userMessage && npcMessage) {
      userScoreEl.innerHTML += `<p style='font-size:1.3em; margin-top:10px; color:#FFD700; font-weight:bold;'>${userMessage}</p>`;
      npcScoreEl.innerHTML += `<p style='font-size:1.3em; margin-top:10px; color:#FFD700; font-weight:bold;'>${npcMessage}</p>`;
      if (userScoreMobileEl && npcScoreMobileEl) {
        userScoreMobileEl.innerHTML += `<p style='font-size:1.1em; margin-top:10px; color:#FFD700; font-weight:bold;'>${userMessage}</p>`;
        npcScoreMobileEl.innerHTML += `<p style='font-size:1.1em; margin-top:10px; color:#FFD700; font-weight:bold;'>${npcMessage}</p>`;
      }
    }
  }
}

function reveal(index) {
  if (revealed[index]) return;
  revealed[index] = true;
  const cell = gameEl.children[index];
  cell.classList.add('revealed');
  cell.textContent = board[index];
}

function switchTurn() {
  if (resultShown) return;
  currentPlayer = currentPlayer === 'user' ? 'npc' : 'user';
  if (currentPlayer === 'npc') {
    npcTimeoutId = setTimeout(npcTurn, 800);
  }
}

function npcTurn() {
  if (resultShown || currentPlayer !== 'npc') return;
  const options = revealed.reduce((acc, r, i) => (!r ? [...acc, i] : acc), []);
  if (options.length === 0) return;
  const choice = options[Math.floor(Math.random() * options.length)];
  handleClick(choice);
}

function handleClick(index) {
  if (revealed[index] || resultShown) return;
  let wasClover = false;
  let wasDaisy = false;

  const cell = gameEl.children[index];

  if (clovers.has(index)) {
    wasClover = true;
    cell.classList.add('revealed', 'clover');
    cell.innerHTML = '<span>ğŸ€</span>';
    revealed[index] = true;

    const dx = [0, 0, -1, 1, 0];
    const dy = [-1, 1, 0, 0, 0];

    for (let d = 0; d < dx.length; d++) {
      const nx = index % gridSize + dx[d];
      const ny = Math.floor(index / gridSize) + dy[d];
      if (nx >= 0 && nx < gridSize && ny >= 0 && ny < gridSize) {
        const nIdx = ny * gridSize + nx;
        reveal(nIdx);
      }
    }

  } else if (daisies.has(index)) {
    wasDaisy = true;
    cell.classList.add('revealed', 'daisy');
    cell.innerHTML = '<span>ğŸŒ¼</span>';
    revealed[index] = true;

    for (let dx = -1; dx <= 1; dx++) {
      for (let dy = -1; dy <= 1; dy++) {
        const nx = index % gridSize + dx;
        const ny = Math.floor(index / gridSize) + dy;
        if (nx >= 0 && nx < gridSize && ny >= 0 && ny < gridSize) {
          const nIdx = ny * gridSize + nx;
          reveal(nIdx);
        }
      }
    }

  } else {
    reveal(index);
  }

  checkWords();

  if ((!wasClover && !wasDaisy) && !resultShown) {
    switchTurn();
  } else if ((wasClover || wasDaisy) && currentPlayer === 'npc' && !resultShown) {
    npcTimeoutId = setTimeout(npcTurn, 800);
  }
}

  
function init() {
  clearTimeout(npcTimeoutId);
  board = Array(totalCells).fill(null);
  revealed = Array(totalCells).fill(false);
  wordMap = {};
  foundWords = new Set();
  foundBy = { user: [], npc: [] };
  currentPlayer = 'user';
  usedIndexes = new Set();
  words = getRandomWords();
  resultShown = false;
  clovers.clear();
daisies.clear()
  let placedWords = 0;
  let attempts = 0;
  while (placedWords < words.length && attempts < 50) {
    if (placeWord(words[placedWords])) placedWords++;
    attempts++;
  }
  words = words.slice(0, placedWords);

  placeClovers(5);
placeDaisy(1); 
  fillEmptyCells();
  updateScore();

  gameEl.innerHTML = '';
  for (let i = 0; i < totalCells; i++) {
    const cell = document.createElement('div');
    cell.className = 'cell';
    cell.addEventListener('click', () => {
      if (currentPlayer === 'user' && !resultShown) handleClick(i);
    });
    gameEl.appendChild(cell);
  }

  
  console.log('ê²Œì„ì— ë°°ì¹˜ëœ ë‹¨ì–´ë“¤:', words);
}

retryBtn.addEventListener('click', init);
window.addEventListener('resize', updateLayout);

function updateLayout() {
  const isMobile = window.innerWidth <= 768;
  if (isMobile) {
    npcScoreEl.style.display = 'none';
    userScoreEl.style.display = 'none';
    document.querySelector('.score-container').style.display = 'flex';
  } else {
    npcScoreEl.style.display = 'block';
    userScoreEl.style.display = 'block';
    document.querySelector('.score-container').style.display = 'none';
  }
}

updateLayout();
init();
</script>
</body>
</html>




